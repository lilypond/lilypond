@c -*- coding: utf-8; mode: texinfo; documentlanguage: fr -*-
@ignore
    Translation of GIT committish: 2cc5ab63e7b66e1589cf76f89325f368764a9990

    When revising a translation, copy the HEAD committish of the
    version that you are working on.  For details, see the Contributors'
    Guide, node Updating translation committishes..
@end ignore

@c \version "2.13.36"

@c Translators: Frédéric Chiasson
@c Translation checkers: Valentin Villenave, Jean-Charles Malahieude

@node Hauteurs
@section Hauteurs
@translationof Pitches

@lilypondfile[quote]{pitches-headword.ly}

Cette section détaille la façon d'indiquer la hauteur des notes, sous
trois aspects@tie{}: la saisie des hauteurs, la modification des
hauteurs et les options de gravure.

@menu
* Écriture des hauteurs de note::
* Modification de plusieurs hauteurs::
* Gravure des hauteurs::
* Têtes de note::
@end menu


@node Écriture des hauteurs de note
@subsection Écriture des hauteurs de note
@translationof Writing pitches

Cette section explique la manière d'indiquer les hauteurs de note.  Deux
modes permettent d'indiquer l'octave des notes@tie{}: le mode absolu, et le
mode relatif.  Ce dernier est le plus pratique lors de la saisie d'un
fichier source au clavier de l'ordinateur.

@menu
* Hauteurs avec octave absolue::
* Octaves relatives::
* Altérations::
* Nom des notes dans d'autres langues::
@end menu

@node Hauteurs avec octave absolue
@unnumberedsubsubsec Hauteurs avec octave absolue
@translationof Absolute octave entry

@cindex noms de note
@cindex hauteurs
@cindex absolues, hauteurs
@cindex absolues, octaves
@cindex octaves absolues

La hauteur s'écrit -- à moins de préciser une autre langue -- avec la
notation batave, en utilisant les lettres de @code{a} à @code{g}.
Les notes @code{c} (do) et @code{b} (si) sont écrites une octave sous le
do central.

@c don't use c' here.
@lilypond[verbatim,quote]
{
  \clef bass
  c4 d e f
  g4 a b c
  d4 e f g
}
@end lilypond

@cindex octave, spécification

@funindex '
@funindex ,

L'octave peut être précisée sous forme d'une série
d'apostrophes@tie{}@code{'} ou d'une série de virgules@tie{}@code{,}.
Chaque@tie{}@code{'} hausse la note d'une octave@tie{};
chaque@tie{}@code{,} baisse la note d'une octave.

@lilypond[verbatim,quote]
{
  \clef treble
  c'4 c'' e' g
  d''4 d' d c
  \clef bass
  c,4 c,, e, g
  d,,4 d, d c
}
@end lilypond


@seealso
Glossaire musicologique :
@rglosnamed{Pitch names,Noms des notes}.

Morceaux choisis :
@rlsrnamed{Pitches,Hauteurs}.


@node Octaves relatives
@unnumberedsubsubsec Octaves relatives
@translationof Relative octave entry

@cindex relatif
@cindex indication d'octave relative
@cindex octave relative, indication

@funindex \relative
@funindex relative
@funindex \transpose
@funindex transpose

On spécifie les octaves en ajoutant@tie{}@code{'} ou@tie{}@code{,} aux
noms de hauteur.  En recopiant de la musique, on a vite fait de mettre
une note à la mauvaise octave@tie{}; ce genre d'erreur est difficile à
retrouver.  Le mode d'écriture en octave relative prévient ces erreurs
dans la mesure où elles deviennent beaucoup plus évidentes@tie{}: une
seule erreur décale le reste de la pièce à une mauvaise octave.


@example
\relative @var{hauteur_de_référence} @var{expression_musicale}
@end example

En mode relatif, chaque note est considérée comme étant le plus proche
possible de celle qui la précède.  L'octave des notes mentionnées dans
@var{expression_musicale} va être calculée de la manière suivante@tie{}:

@itemize
@item
Si aucun signe de changement d'octave n'est utilisé, l'intervalle de
base entre la note actuelle et la précédente sera toujours au plus d'une
quarte.  Cet intervalle est déterminé sans tenir compte des altérations.

@item
Un signe de changement d'octave@tie{}@code{'} ou@tie{}@code{,} peut être
ajouté pour hausser ou baisser la note d'une octave par rapport à la
hauteur calculée sans spécification.

@item
Ces signes de changement d'octave peuvent être multipliés.  Par exemple,
@code{''}@tie{}ou@tie{}@code{,,} ajouteront une octave supplémentaire.

@item
Lorsque l'on entre en mode @code{\relative}, une hauteur absolue de
départ peut être spécifiée, et agira dès lors comme si elle précédait la
première note de @var{expression_musicale}.  Nous vous recommandons de
faire référence à un do (@code{c}).

@end itemize

Voici le mode @code{\relative} en action.

@lilypond[verbatim,quote]
\relative c {
  \clef bass
  c d e f
  g a b c
  d e f g
}
@end lilypond

On utilise les signes de changement d'octave pour les intervalles
dépassant la quarte.

@lilypond[verbatim,quote]
\relative c'' {
  c g c f,
  c' a, e'' c
}
@end lilypond

Bien que ne comportant aucun signe de changement d'octave, une séquence
de notes peut tout à fait couvrir un intervalle important.

@lilypond[verbatim,quote]
\relative c {
  c f b e
  a d g c
}
@end lilypond

Lorsque plusieurs blocs @code{\relative} sont imbriqués, c'est la
dernière clause @code{\relative} qui est prise en compte.

@lilypond[verbatim,quote]
\relative c' {
  c d e f
  \relative c'' {
    c d e f
  }
}
@end lilypond

@funindex \chordmode
@funindex chordmode

@code{\relative} est sans effet sur un bloc @code{\chordmode}.

@lilypond[verbatim,quote]
\new Staff {
  \relative c''' {
    \chordmode { c1 }
  }
  \chordmode { c1 }
}
@end lilypond

@code{\relative} n'est pas permis au sein d'un bloc @code{\chordmode}.

@cindex octave relative et transposition
@cindex transposition et mode octave relative

@funindex \transpose
@funindex transpose

Pour utiliser le mode d'octave relative dans de la musique transposée,
une clause @code{\relative} additionnelle doit être placée au sein du
bloc @code{\transpose}.

@lilypond[verbatim,quote]
\relative c' {
  d e
  \transpose f g {
    d e
    \relative c' {
      d e
    }
  }
}
@end lilypond


@cindex accords et octave relative
@cindex octave relative et accords


Si l'expression précédente est un accord, c'est la première note de
l'accord qui détermine l'emplacement de la première note du prochain
accord.  À l'intérieur de l'accord, les notes sont placées relativement
à celle qui précède.  Examinez avec attention l'exemple suivant, et tout
particulièrement le positionnement des do.

@lilypond[verbatim,quote]
\relative c' {
  c
  <c e g>
  <c' e g'>
  <c, e, g''>
}
@end lilypond

Comme nous l'avons vu, l'octaviation est déterminée sans tenir compte
des altérations.  Ainsi un mi double-dièse qui suit un si naturel sera
placé au-dessus de celui-ci, alors qu'un fa double-bémol se retrouvera
en dessous.  En d'autres termes, une quarte doublement augmentée
demeure considérée comme un intervalle plus petit qu'une quinte
diminuée, bien que la quarte doublement augmentée soit de sept demi-tons
et la quinte diminuée de seulement six demi-tons.

@lilypond[verbatim,quote]
\relative c'' {
  c2 fis
  c2 ges
  b2 eisis
  b2 feses
}
@end lilypond


@seealso
Glossaire musicologique :
@rglosnamed{fifth,quinte},
@rglosnamed{interval,intervalle},
@rglosnamed{Pitch names,nom des notes}.

Manuel de notation :
@ref{Vérifications d'octave}.

Morceaux choisis :
@rlsrnamed{Pitches,Hauteurs}.

Référence des propriétés internes :
@rinternals{RelativeOctaveMusic}.


@node Altérations
@unnumberedsubsubsec Altérations
@translationof Accidentals

@cindex altération
@cindex armure
@cindex clef

@c duplicated in Key signature and in Accidentals
@warning{Les nouveaux utilisateurs sont parfois déroutés par la gestion
des altérations et de l'armure.  Pour LilyPond, une hauteur n'est que du
matériau brut@tie{}; l'armure et la clef ne feront que déterminer
comment ce matériau sera retranscrit.  Un simple@tie{}@code{c} signifie
tout bonnement @w{@qq{do naturel}} quelles que soient l'armure et la clef
en question. Pour plus d'information, reportez-vous au chapitre
@rlearning{Altérations et armure}.}

@cindex noms de note, hollandais
@cindex noms de note, par défaut
@cindex dièse
@cindex bémol
@cindex double dièse
@cindex double bémol
@cindex flat, double
@cindex naturel
@cindex bécarre

Dans la notation par défaut, un @notation{dièse} est formé en ajoutant
@code{is} après le nom de note, un @notation{bémol} en ajoutant
@code{es}.  Les @notation{double-dièses} et @notation{double-bémols}
sont obtenus en ajoutant respectivement @code{isis} ou @code{eses} au
nom de note.  Ce sont les noms de note hollandais.  Pour les autres
langues, consultez @ref{Nom des notes dans d'autres langues}.

@lilypond[verbatim,quote,relative=2]
ais1 aes aisis aeses
@end lilypond

Un bécarre annule l'effet d'une altération, qu'elle soit accidentelle
ou à l'armure.  Cependant, dans la syntaxe des noms de note, les
bécarres ne s'écrivent pas avec un suffixe@tie{}; un simple nom de note
donnera une note bécarre.

@lilypond[verbatim,quote,relative=2]
a4 aes a2
@end lilypond

@cindex quarts de ton
@cindex demi-bémols
@cindex demi-dièses

Les demi-bémols et demi-dièses s'écrivent en ajoutant respectivement
@code{eh} et @code{ih}. Voici une série de dos altérés en hauteurs
croissantes@tie{}:

@lilypond[verbatim,quote,relative=2]
ceseh1 ces ceh c cih cis cisih
@end lilypond

Les micro-intervalles sont aussi exportés dans le fichier MIDI.


@cindex altération de précaution
@cindex altération entre parenthèses
@cindex précaution, altération de
@cindex parenthèses, altération entre

@funindex ?
@funindex !

Normalement, les altérations sont imprimées automatiquement, mais il se
peut que vous vouliez les imprimer manuellement.  On peut forcer
l'impression d'une altération, dite @qq{de précaution}, en ajoutant un
point d'exclamation@tie{}@code{!} après la hauteur de note.  Une
altération entre parenthèses peut être obtenue en ajoutant un point
d'interrogation@tie{}@code{?} après la hauteur de note.  Ces signes
peuvent aussi être utilisés pour imprimer des bécarres.

@lilypond[verbatim,quote,relative=2]
cis cis cis! cis? c c c! c?
@end lilypond

@cindex altération et liaison de tenue
@cindex liaison de tenue et altération

Lorsqu'une note est prolongée par une liaison de tenue, l'altération ne
sera réimprimée que s'il y a un saut de ligne.

@lilypond[verbatim,quote,relative=2]
cis1 ~ cis ~
\break
cis
@end lilypond


@snippets

@lilypondfile[verbatim,lilyquote,texidoc,doctitle,ragged-right]
{hiding-accidentals-on-tied-notes-at-the-start-of-a-new-system.ly}

@lilypondfile[verbatim,lilyquote,texidoc, doctitle]
{preventing-extra-naturals-from-being-automatically-added.ly}


@seealso
Glossaire musicologique :
@rglosnamed{sharp,dièse},
@rglosnamed{flat,bémol},
@rglosnamed{double sharp,double dièse},
@rglosnamed{double flat,double bémol},
@rglosnamed{Pitch names,Nom des notes},
@rglosnamed{quarter tone,quart de ton}.

Manuel d'initiation :
@rlearning{Altérations et armure}.

Manuel de notation :
@ref{Altérations accidentelles automatiques},
@ref{Altérations accidentelles suggérées},
@ref{Nom des notes dans d'autres langues}.

Morceaux choisis :
@rlsrnamed{Pitches,Hauteurs}.

Références des propriétés internes :
@rinternals{Accidental_engraver},
@rinternals{Accidental},
@rinternals{AccidentalCautionary},
@rinternals{accidental-interface}.


@cindex accidentel, quart de ton
@cindex quart de ton

@knownissues

Il n'y a pas de standard universellement accepté pour noter le bémol et
demi (qui abaisse la hauteur trois quarts de ton), le symbole de
LilyPond n'est donc conforme à aucun standard.



@node Nom des notes dans d'autres langues
@unnumberedsubsubsec Nom des notes dans d'autres langues
@translationof Note names in other languages

@cindex notes, noms selon la langue
@cindex noms de note, langues
@cindex langues, noms de note

Vous disposez de jeux prédéfinis de noms de note et altérations pour
plusieurs autres langues.  Pour les utiliser, il suffit de déclarer, en
début de fichier, la langue que vous utilisez.  Voici comment, par
exemple, utiliser l'italien pour votre saisie@tie{}:

@lilypond[quote,verbatim]
\language "italiano"

\relative do' {
  do re mi sib
}
@end lilypond

Les langues disponibles ainsi que les noms de note utilisés
sont les suivants@tie{}:

@quotation
@multitable {@code{nederlands}} {do re mi fa sol la sib si}
@headitem Langue
  @tab Nom des notes
@item @code{nederlands}
  @tab c d e f g a bes b
@item @code{catalan}
  @tab do re mi fa sol la sib si
@item @code{deutsch}
  @tab c d e f g a b h
@item @code{english}
  @tab c d e f g a bf b
@item @code{espanol}
  @tab do re mi fa sol la sib si
@item @code{italiano}
  @tab do re mi fa sol la sib si
@item @code{norsk}
  @tab c d e f g a b h
@item @code{portugues}
  @tab do re mi fa sol la sib si
@item @code{suomi}
  @tab c d e f g a b h
@item @code{svenska}
  @tab c d e f g a b h
@item @code{vlaams}
  @tab do re mi fa sol la sib si
@end multitable
@end quotation

@noindent
et les suffixes d'altération correspondants@tie{}:

@quotation
@multitable {@code{nederlands}} {-s/-sharp} {-ess/-es} {-ss/-x/-sharpsharp} {-essess/-eses}
@headitem Langue
  @tab dièse @tab bémol @tab double dièse @tab double bémol
@item @code{nederlands}
  @tab -is @tab -es @tab -isis @tab -eses
@item @code{catalan}
  @tab -d/-s @tab -b @tab -dd/-ss @tab -bb
@item @code{deutsch}
  @tab -is @tab -es @tab -isis @tab -eses
@item @code{english}
  @tab -s/-sharp @tab -f/-flat @tab -ss/-x/-sharpsharp
    @tab -ff/-flatflat
@item @code{espanol}
  @tab -s @tab -b @tab -ss/-x @tab -bb
@item @code{italiano}
  @tab -d @tab -b @tab -dd @tab -bb
@item @code{norsk}
  @tab -iss/-is @tab -ess/-es @tab -ississ/-isis
    @tab -essess/-eses
@item @code{portugues}
  @tab -s @tab -b @tab -ss @tab -bb
@item @code{suomi}
  @tab -is @tab -es @tab -isis @tab -eses
@item @code{svenska}
  @tab -iss @tab -ess @tab -ississ @tab -essess
@item @code{vlaams}
  @tab -k @tab -b @tab -kk @tab -bb
@end multitable
@end quotation

@noindent
Notez qu'en hollandais, en allemand, en norvégien et en suédois, un
@notation{la} altéré de @notation{bémol} se note @code{aes} et
@code{aeses}.  Ces formes sont contractées en @code{as} et @code{ases}
(ou plus communément @code{asas}).  Dans certains fichiers
linguistiques, seules ces formes abrégées ont été définies.

@lilypond[verbatim,quote,relative=2]
a2 as e es a ases e eses
@end lilypond


@cindex microtonalités
@cindex demi-dièse
@cindex demi-bémol
@cindex sesqui-dièse
@cindex sesqui-bémol

@noindent
Certaines musiques utilisent des microtonalités, pour lesquelles les
altérations sont des fractions de dièse ou bémol @qq{normaux}.  Le
tableau suivant répertorie les noms de note en quart de ton, tels que
définis dans plusieurs fichiers linguistiques.  Les préfixes @emph{semi-}
et @emph{sesqui-} correspondent au @emph{demi-} et @emph{trois demis}.
À noter qu'aucune définition n'existe à ce jour pour le norvégien, le
suédois, le catalan et l'espagnol.

@quotation
@multitable {@code{nederlands}} {@b{semi-sharp}} {@b{semi-flat}} {@b{sesqui-sharp}} {@b{sesqui-flat}}
@headitem Langue
  @tab semi-dièse @tab semi-bémol @tab sesqui-dièse @tab sesqui-bémol
@item @code{nederlands}
  @tab -ih @tab -eh @tab -isih @tab -eseh
@item @code{deutsch}
  @tab -ih @tab -eh @tab -isih @tab -eseh
@item @code{english}
  @tab -qs @tab -qf @tab -tqs @tab -tqf
@item @code{espanol}
  @tab -cs @tab -cb @tab -tcs @tab -tcb
@item @code{italiano}
  @tab -sd @tab -sb @tab -dsd @tab -bsb
@item @code{portugues}
  @tab -sqt @tab -bqt @tab -stqt @tab -btqt
@end multitable
@end quotation

La plupart des langues dont nous venons de parler correspondent à la
musique classique occidentale au tempérament égal -- le concept de
@emph{Common Practice Period} en anglais.  LilyPond prend néanmoins en
charge d'autres systèmes de notation, comme indiqué au chapitre
@ref{Noms de note et altérations non-occidentaux}.


@seealso
Glossaire musicologique :
@rglosnamed{Pitch names,Nom des notes},
@rglos{Common Practice Period}.

Manuel de notation :
@ref{Noms de note et altérations non-occidentaux}.

Fichiers installés :
@file{scm/define-note-names.scm}.

Morceaux choisis :
@rlsrnamed{Pitches,Hauteurs}.


@node Modification de plusieurs hauteurs
@subsection Modification de plusieurs hauteurs
@translationof Changing multiple pitches

Cette partie traite de la manière de modifier les hauteurs de note.

@menu
* Vérifications d'octave::
* Transposition::
@end menu

@node Vérifications d'octave
@unnumberedsubsubsec Vérifications d'octave
@translationof Octave checks

@cindex vérification d'octave
@cindex octave, vérification
@cindex contrôle des hauteurs

@funindex =
@funindex \octaveCheck
@funindex octaveCheck
@funindex controlpitch


Les tests d'octave rendent la correction d'erreurs d'octave plus facile
dans le mode d'octave @code{relative} -- un@tie{}@code{,} ou
un@tie{}@code{'} oublié, ça n'arrive pas qu'aux autres@tie{}!

Une note peut être suivie de  @w{@code{=}@var{apostrophes/virgules}}
pour indiquer à quelle octave absolue elle devrait être.  Dans l'exemple
suivant, le @code{d} générera un avertissement, puisqu'on attend un
@code{d''} mais qu'on obtient un @code{d'} -- il n'y a qu'une tierce
entre @code{b'} et @code{d''}.  Sur la partition, l'octave sera corrigée
pour donner un @code{d''} et la prochaine note sera calculée en fonction
de @code{d''} et non de @code{d'}.

@lilypond[verbatim,quote]
\relative c'' {
  c2 d='4 d
  e2 f
}
@end lilypond

Il existe aussi une vérification d'octave qui ne produit pas de musique
imprimée, ayant pour syntaxe
@code{\octaveCheck}@tie{}@var{hauteur_référence} --
@code{@var{hauteur_référence}} étant spécifiée en mode absolu.  Cette
commande vérifie que l'intervalle entre la note qui précède et
@code{@var{hauteur_référence}} est inférieur à la quinte comme il se
doît en mode relatif.  Dans le cas contraire, un message sera émis et la
note précédente ne sera pas modifiée.  Les notes suivantes seront, par
contre, positionnées relativement à @code{@var{hauteur_référence}}.

@lilypond[verbatim,quote]
\relative c'' {
  c2 d
  \octaveCheck c'
  e2 f
}
@end lilypond

Dans les deux mesures qui suivent, les premier et troisième
@code{\octaveCheck} échouent, mais le deuxième est concluant.

@lilypond[verbatim,quote]
\relative c'' {
  c4 f g f

  c4
  \octaveCheck c'
  f
  \octaveCheck c'
  g
  \octaveCheck c'
  f
}
@end lilypond


@seealso
Morceaux choisis :
@rlsrnamed{Pitches,Hauteurs}.

Référence des propriétés internes :
@rinternals{RelativeOctaveCheck}.


@node Transposition
@unnumberedsubsubsec Transposition
@translationof Transpose

@cindex transposition
@cindex transposition des hauteurs

@funindex \transpose
@funindex transpose

Une expression musicale peut être transposée avec @code{\transpose}.
En voici la syntaxe@tie{}:

@example
\transpose @var{note_de_départ} @var{note_d_arrivée} @var{expression_musicale}
@end example

@noindent
Cela signifie que @code{@var{expression_musicale}} est transposé de
l'intervalle séparant @code{@var{note_de_départ}} et
@code{@var{note_d_arrivée}}@tie{}: toute note dont la hauteur était
@code{note_de_départ} est changée en @code{note_d_arrivée}@tie{}; les
autres notes seront changées selon le même intervalle.  Les deux
hauteurs s'expriment en octave absolue.

@warning{La musique contenue dans un bloc @code{@bs{}transpose} est en
octaves absolus, sauf à inclure dans ce même bloc une clause
@code{@bs{}relative}.}

Prenons comme exemple une pièce écrite en ré majeur.  Si cette pièce est
un peu trop basse pour l'interprète, elle peut être transposée en mi
majeur.  Vous noterez que l'armure est automatiquement modifiée.

@lilypond[verbatim,quote]
\transpose d e {
  \relative c' {
    \key d \major
    d4 fis a d
  }
}
@end lilypond

@cindex transpositeur, instrument
@cindex instruments transpositeurs

Regardons maintenant une partie écrite pour violon -- un instrument en
ut.  Si cette partie doit être jouée par une clarinette en la (écrite à
la tierce mineure supérieure, un do écrit donnant un la réel), la
transposition suivante créera la partie appropriée.

@lilypond[verbatim,quote]
\transpose a c' {
  \relative c' {
    \key c \major
    c4 d e g
  }
}
@end lilypond

@noindent
La présence de @w{@code{\key c \major}} s'explique par le fait que, bien
que les notes soient effectivement transposées, l'armure ne sera
imprimée que dans la mesure où elle est explicitement mentionnée.

@code{\transpose} fait la distinction entre les notes enharmoniques@tie{}:
@w{@code{\transpose c cis}} et @w{@code{\transpose c des}} transposeront
la pièce un demi-ton plus haut, au détail près que la première version
écrira des dièses et la deuxième des bémols.

@lilypond[verbatim,quote]
music = \relative c' { c d e f }
\new Staff {
  \transpose c cis { \music }
  \transpose c des { \music }
}
@end lilypond

On peut aussi utiliser @code{\transpose} pour entrer des notes écrites
pour un instrument transpositeur.  Normalement, les hauteurs dans
LilyPond sont écrites en ut, c'est à dire en sons réels, mais elles
peuvent être écrites dans un autre ton.  Prenons l'exemple d'un morceau
pour trompette en si bémol commençant sur un ré à l'oreille@tie{}; on
pourrait écrire

@example
musiqueEnSiBemol = @{ e4 @dots{} @}
\transpose c bes, \musiqueEnSiBemol
@end example

@noindent
Pour imprimer cette musique en fa -- et de ce fait produire une partie
de cor au lieu d'un conducteur en notes réelles -- on utilisera un
deuxième @code{\transpose}@tie{}:

@example
musiqueEnSiBemol = @{ e4 @dots{} @}
\transpose f c' @{ \transpose c bes, \musiqueEnSiBemol @}
@end example

@noindent
Pour plus d'information à ce sujet, consultez
@ref{Instruments transpositeurs}.


@snippets

@lilypondfile[verbatim,lilyquote,texidoc,doctitle]
{transposing-pitches-with-minimum-accidentals-smart-transpose.ly}


@seealso
Manuel de notation :
@ref{Octaves relatives},
@ref{Instruments transpositeurs}.

Morceaux choisis :
@rlsrnamed{Pitches,Hauteurs}.

Référence des propriété internes :
@rinternals{TransposedMusic}.


@funindex \transpose
@funindex transpose
@funindex \chordmode
@funindex chordmode
@funindex \relative
@funindex relative

@knownissues

Si vous voulez utiliser en même temps @code{@bs{}transpose} et
@code{@bs{}relative}, vous devez mettre @code{@bs{}transpose} en dehors de
@code{@bs{}relative}, puisque @code{@bs{}relative} n'aura aucun effet sur la
musique apparaissant dans un @code{@bs{}transpose}.

@node Gravure des hauteurs
@subsection Gravure des hauteurs
@translationof Displaying pitches

Nous allons voir dans cette partie comment influer sur la gravure des
hauteurs.

@menu
* Clefs::
* Armure::
* Marques d'octaviation::
* Instruments transpositeurs::
* Altérations accidentelles automatiques::
* Ambitus::
@end menu

@node Clefs
@unnumberedsubsubsec Clefs
@translationof Clef

@cindex clé de sol
@cindex clé de fa
@cindex clé d'ut

@funindex \clef
@funindex clef

La clef indique quelles lignes de la portée correspondent à quelles
hauteurs.  Elle peut changer au fil du morceau, comme dans l'exemple
suivant qui indique le do médium dans différentes clefs@tie{}:

@lilypond[verbatim,quote,relative=1]
\clef treble
c2 c
\clef alto
c2 c
\clef tenor
c2 c
\clef bass
c2 c
@end lilypond

LilyPond met à votre disposition d'autres clefs@tie{}:

@lilypond[verbatim,quote,relative=1]
\clef french
c2 c
\clef soprano
c2 c
\clef mezzosoprano
c2 c
\clef baritone
c2 c

\break

\clef varbaritone
c2 c
\clef subbass
c2 c
\clef percussion
c2 c

\break

\clef G   % synonym for treble
c2 c
\clef F   % synonym for bass
c2 c
\clef C   % synonym for alto
c2 c
@end lilypond

@cindex transposition et clef
@cindex clef et transposition
@cindex octave et clef
@cindex chorale, clef de tenor
@cindex tenor, clef

En ajoutant @code{_8} ou @code{^8} au nom de la clé, celle-ci est
transposée à l'octave respectivement inférieure ou supérieure, et
@code{_15} ou @code{^15} la transpose de deux octaves.  D'autres nombres
entiers peuvent être utilisés selon les besoins.  L'argument
@var{clefname} doit être mis entre guillemets lorsqu'il contient des
caractères supplémentaires.  Par exemple,

@lilypond[verbatim,quote,relative=1]
\clef treble
c2 c
\clef "treble_8"
c2 c
\clef "bass^15"
c2 c
\clef "alto_2"
c2 c
\clef "G_8"
c2 c
\clef "F^5"
c2 c
@end lilypond

Il existe d'autres clefs, destinées à un usage particulier.  Voir à ce
sujet @ref{Notations anciennes}
@c r ef{Mensural clefs}, @c r ef{Gregorian clefs},
@ref{Tablatures par défaut} et @ref{Tablatures personnalisées}.


@snippets

@lilypondfile[verbatim,lilyquote,texidoc,doctitle]
{tweaking-clef-properties.ly}


@seealso
Manuel de notation :
@ref{Notations anciennes},
@c r ef{Mensural clefs},
@c r ef{Gregorian clefs},
@ref{Tablatures par défaut},
@ref{Tablatures personnalisées}.

Morceaux choisis:
@rlsrnamed{Pitches,Hauteurs}.

Référence des propriétés internes :
@rinternals{Clef_engraver},
@rinternals{Clef},
@rinternals{OctavateEight},
@rinternals{clef-interface}.


@node Armure
@unnumberedsubsubsec Armure
@translationof Key signature

@cindex armure

@funindex \key
@funindex key

@c duplicated in Key signature and in Accidentals
@warning{Les nouveaux utilisateurs sont parfois déroutés par la gestion
des altérations et de l'armure.  Pour LilyPond, une hauteur n'est que du
matériau brut@tie{}; l'armure et la clef ne feront que déterminer
comment ce matériau sera retranscrit.  Un simple@tie{}@code{c} signifie
tout bonnement @w{@qq{do naturel}} quelles que soient l'armure et la
clef en question.  Pour plus d'information, reportez-vous au chapitre
@rlearning{Altérations et armure}.}

L'armure indique la tonalité dans laquelle la pièce doit être jouée.
Elle comprend un ensemble d'altérations (dièses ou bémols) à la clef,
c'est-à-dire au début de la portée.  Elle peut varier en cours de
morceau.

On définit ou modifie l'armure avec la commande @code{\key}

@example
@code{\key} @var{hauteur} @var{mode}
@end example

@funindex \major
@funindex major
@funindex \minor
@funindex minor
@funindex \ionian
@funindex ionian
@funindex \locrian
@funindex locrian
@funindex \aeolian
@funindex aeolian
@funindex \mixolydian
@funindex mixolydian
@funindex \lydian
@funindex lydian
@funindex \phrygian
@funindex phrygian
@funindex \dorian
@funindex dorian

@cindex modes anciens
@cindex modes
@cindex majeur
@cindex mineur
@cindex ionien
@cindex locrien
@cindex éolien
@cindex mixolydien
@cindex lydien
@cindex phrygien
@cindex dorien

@noindent
Ici, @code{@var{mode}} doit être @code{\major} ou @code{\minor} afin
d'avoir respectivement @var{hauteur}-majeur ou @var{hauteur}-mineur.
Vous pouvez aussi avoir recours aux modes anciens que sont
@code{\ionian}, @code{\locrian}, @code{\aeolian}, @code{\mixolydian},
@code{\lydian}, @code{\phrygian} et @code{\dorian}.

@lilypond[verbatim,quote,relative=2]
\key g \major
fis1
f
fis
@end lilypond


@snippets

@lilypondfile[verbatim,lilyquote,texidoc,doctitle]
{preventing-natural-signs-from-being-printed-when-the-key-signature-changes.ly}

@lilypondfile[verbatim,lilyquote,texidoc,doctitle]
{non-traditional-key-signatures.ly}


@seealso
Glossaire musicologique :
@rglosnamed{church mode,mode d'église},
@rglos{scordatura}.

Manuel d'initiation :
@rlearning{Altérations et armure}.

Morceaux choisis :
@rlsrnamed{Pitches,Hauteurs}.

Référence des propriétés internes :
@rinternals{KeyChangeEvent},
@rinternals{Key_engraver},
@rinternals{Key_performer},
@rinternals{KeyCancellation},
@rinternals{KeySignature},
@rinternals{key-cancellation-interface},
@rinternals{key-signature-interface}.


@node Marques d'octaviation
@unnumberedsubsubsec Marques d'octaviation
@translationof Ottava brackets

@cindex ottava
@cindex 15ma
@cindex 8va
@cindex 8ve
@cindex octaviation

@funindex set-octavation
@funindex \ottava
@funindex ottava

Les marques d'octaviation, @emph{Ottava}, permettent d'introduire une
transposition spécifique d'une octave pour la portée en cours.  C'est
la fonction @code{ottava} qui s'en charge.

@lilypond[verbatim,quote,relative=2]
a2 b
\ottava #-2
a2 b
\ottava #-1
a2 b
\ottava #0
a2 b
\ottava #1
a2 b
\ottava #2
a2 b
@end lilypond

@snippets

@lilypondfile[verbatim,lilyquote,texidoc,doctitle]
{ottava-text.ly}


@seealso
Glossaire musicologique :
@rglosnamed{octavation,octaviation}.

Morceaux choisis :
@rlsrnamed{Pitches,Hauteurs}.

Référence des propriétés internes :
@rinternals{Ottava_spanner_engraver},
@rinternals{OttavaBracket},
@rinternals{ottava-bracket-interface}.


@node Instruments transpositeurs
@unnumberedsubsubsec Instruments transpositeurs
@translationof Instrument transpositions

@cindex transposition et MIDI
@cindex MIDI et transposition
@cindex transposition, instrument

@funindex \transposition
@funindex transposition

Lorsque l'on saisit une partition d'ensemble incluant des instruments
transpositeurs, certaines parties peuvent être dans une autre tonalité
que la @notation{tonalité de concert}.  Il faudra en pareil cas indiquer
la tonalité spécifique de ces @notation{instruments transpositeurs},
sous peine de fichier MIDI erroné et de citations incorrectes.  Pour
plus de détails sur les citations, consultez le chapitre
@ref{Citation d'autres voix}.

@example
\transposition @var{hauteur}
@end example

La hauteur donnée en argument à @code{\transposition} doit
correspondre à la note entendue lorsqu'un @code{do} écrit sur la
portée est joué par l'instrument transpositeur.  Cette hauteur doit être
mentionnée en @notation{mode absolu}.  Par exemple, lorsque
vous saisissez une partition en notes réelles, toutes les voix
devraient être en ut@tie{}; si un instrument joue un ton au dessus, il
faudra lui ajouter un @w{@code{\transposition d'}}.  La commande
@code{\transposition} s'utilise @strong{si et seulement si} les notes à
saisir @strong{ne sont pas} dans la tonalité de concert.

Voici un fragment pour violon et clarinette en si bémol (@emph{B-flat})
pour lequel les parties respectives ont été recopiées à partir du
conducteur.  Les deux instruments sont à l'unisson.

@lilypond[verbatim,quote]
\new GrandStaff <<
  \new Staff = "violin" {
    \relative c'' {
      \set Staff.instrumentName = #"Vln"
      \set Staff.midiInstrument = #"violin"
      % not strictly necessary, but a good reminder
      \transposition c'

      \key c \major
      g4( c8) r c r c4
    }
  }
  \new Staff = "clarinet" {
    \relative c'' {
      \set Staff.instrumentName = \markup { Cl (B\flat) }
      \set Staff.midiInstrument = #"clarinet"
      \transposition bes

      \key d \major
      a4( d8) r d r d4
    }
  }
>>
@end lilypond

La @code{\transposition} peut évoluer au cours d'un morceau.  Un
clarinettiste peut être amené à jongler entre une clarinette en la et
une autre en si bémol.

@lilypond[verbatim,quote,relative=2]
\set Staff.instrumentName = #"Cl (A)"
\key a \major
\transposition a
c d e f
\textLengthOn
s1*0^\markup { Switch to B\flat clarinet }
R1

\key bes \major
\transposition bes
c2 g
@end lilypond


@seealso
Glossaire musicologique :
@rglosnamed{concert pitch,tonalité de concert},
@rglosnamed{transposing instrument,instrument transpositeur}.

Manuel de notation :
@ref{Citation d'autres voix},
@ref{Transposition}.

Morceaux choisis :
@rlsrnamed{Pitches,Hauteurs}.


@node Altérations accidentelles automatiques
@unnumberedsubsubsec Altérations accidentelles automatiques
@translationof Automatic accidentals

@cindex altération, style
@cindex altération, style par défaut
@cindex accidentelles, altérations
@cindex accidentelles automatiques
@cindex automatiques, altérations accidentelles
@cindex style d'accidentelle

@funindex set-accidental-style
@funindex voice
@funindex default


LilyPond dispose d'une fonction chargée de regrouper les règles suivant
lesquelles s'impriment les altérations.  Elle s'invoque de la manière
suivante@tie{}:

@example
\new Staff <<
  #(set-accidental-style 'voice)
  @{ @dots{} @}
>>
@end example

La règle de gestion des altérations s'applique par défaut au contexte
@code{Staff} en cours, exception faite des styles @code{piano} et
@code{piano-cautionary} comme nous allons le voir.  Cette fonction
accepte un éventuel argument supplémentaire chargé de spécifier
le champ d'action de la règle à suivre.  À titre d'exemple, il faudra
utiliser, pour que toutes les portées d'un même système -- contexte
@code{StaffGroup} -- soient soumises à la même règle@tie{}:

@example
#(set-accidental-style 'voice 'StaffGroup)
@end example

Nous vous présentons ci-après les différentes régles d'altération prises
en charge.  Pour les besoins de la démonstration, nous partirons de
l'exemple suivant@tie{}:

@lilypond[verbatim,quote]
musicA = {
  <<
    \relative c' {
      cis'8 fis, d'4 <a cis>8 f bis4 |
      cis2. <c, g'>4 |
    }
    \\
    \relative c' {
      ais'2 cis, |
      fis8 b a4 cis2 |
    }
  >>
}

musicB = {
  \clef bass
  \new Voice {
    \voiceTwo \relative c' {
      <fis, a cis>8 <fis a cis>
      \change Staff = up
      cis' cis
      \change Staff = down
      <fis, a> <fis a>
      \showStaffSwitch
      \change Staff = up
      dis'4 |
      \change Staff = down
      <fis, a cis>4 gis <f a d>2 |
    }
  }
}

\new PianoStaff {
  <<
    \context Staff = "up" {
      #(set-accidental-style 'default)
      \musicA
    }
    \context Staff = "down" {
      #(set-accidental-style 'default)
      \musicB
    }
  >>
}
@end lilypond

Notez bien que pour appliquer le même style aux deux portées, seules les
dernières lignes de cet exemple nous intéressent.

@example
\new PianoStaff @{
  <<
    \context Staff = "haut" @{
      %%% voici la ligne à modifier en conséquence :
      #(set-accidental-style 'default 'Score)
      \musicA
    @}
    \context Staff = "bas" @{
      \musicB
    @}
  >>
@}
@end example


@c don't use verbatim in this table.
@table @code
@item default

@cindex @emph{default}, style d'altérations
@cindex altérations, style @emph{default}

@funindex default

C'est la règle d'impression par défaut, qui se rapporte à l'usage
en vigueur au XVIIIe siècle@tie{}: les altérations accidentelles sont
valables tout une mesure, et uniquement à leur propre octave.  C'est la
raison pour laquelle il n'y a pas de bécarre avant le @notation{si} de
la deuxième mesure, ni avant le dernier @notation{do}.

@lilypond[quote]
musicA = {
  <<
    \relative c' {
      cis'8 fis, d'4 <a cis>8 f bis4 |
      cis2. <c, g'>4 |
    }
    \\
    \relative c' {
      ais'2 cis, |
      fis8 b a4 cis2 |
    }
  >>
}

musicB = {
  \clef bass
  \new Voice {
    \voiceTwo \relative c' {
      <fis, a cis>8 <fis a cis>
      \change Staff = up
      cis' cis
      \change Staff = down
      <fis, a> <fis a>
      \showStaffSwitch
      \change Staff = up
      dis'4 |
      \change Staff = down
      <fis, a cis>4 gis <f a d>2 |
    }
  }
}

\new PianoStaff {
  <<
    \context Staff = "up" {
      #(set-accidental-style 'default)
      \musicA
    }
    \context Staff = "down" {
      #(set-accidental-style 'default)
      \musicB
    }
  >>
}
@end lilypond

@item voice

@cindex @emph{voice}, style d'altérations
@cindex altérations, style @emph{voice}
@cindex altérations, style @emph{modern}
@cindex @emph{modern}, style d'altération
@cindex altérations, style @emph{modern-cautionary}
@cindex @emph{modern-cautionary}, style d'altération

@funindex voice

En principe, LilyPond se souvient de toutes les altérations présentes
sur la portée (contexte @code{Staff}).  Avec cette règle, cependant, les
altérations sont indépendantes pour chacune des voix tout en obéissant
à la règle @code{default}.

Les altérations d'une voix sont de fait ignorées dans les autres
voix, ce qui peut donner lieu à un résultat malencontreux.  Dans
l'exemple suivant, il est difficile de dire si le deuxième @notation{la}
est dièse ou naturel.  La règle @code{voice} n'est donc à envisager que
dans le cas de voix devant être lues par des musiciens différents.  S'il
s'agit d'un @qq{conducteur}, ou d'une portée destinée à un seul
musicien, il vaut mieux utiliser @code{modern} ou
@code{modern-cautionary}.

@lilypond[quote]
musicA = {
  <<
    \relative c' {
      cis'8 fis, d'4 <a cis>8 f bis4 |
      cis2. <c, g'>4 |
    }
    \\
    \relative c' {
      ais'2 cis, |
      fis8 b a4 cis2 |
    }
  >>
}

musicB = {
  \clef bass
  \new Voice {
    \voiceTwo \relative c' {
      <fis, a cis>8 <fis a cis>
      \change Staff = up
      cis' cis
      \change Staff = down
      <fis, a> <fis a>
      \showStaffSwitch
      \change Staff = up
      dis'4 |
      \change Staff = down
      <fis, a cis>4 gis <f a d>2 |
    }
  }
}

\new PianoStaff {
  <<
    \context Staff = "up" {
      #(set-accidental-style 'voice)
      \musicA
    }
    \context Staff = "down" {
      #(set-accidental-style 'voice)
      \musicB
    }
  >>
}
@end lilypond

@item modern

@cindex altération, style @emph{modern}
@cindex @emph{modern}, style d'altération

@funindex modern

Cette règle est la plus courante au XXe siècle.  Les altérations
accidentelles sont imprimées comme avec le style @code{default}, mais
lorsqu'une note non-altérée apparaît à une octave différente, ou bien
dans la mesure suivante, des bécarres de précaution sont ajoutés.  Dans
l'exemple suivant, notez ainsi les deux bécarres dans la deuxième mesure
de la main droite.

@lilypond[quote]
musicA = {
  <<
    \relative c' {
      cis'8 fis, d'4 <a cis>8 f bis4 |
      cis2. <c, g'>4 |
    }
    \\
    \relative c' {
      ais'2 cis, |
      fis8 b a4 cis2 |
    }
  >>
}

musicB = {
  \clef bass
  \new Voice {
    \voiceTwo \relative c' {
      <fis, a cis>8 <fis a cis>
      \change Staff = up
      cis' cis
      \change Staff = down
      <fis, a> <fis a>
      \showStaffSwitch
      \change Staff = up
      dis'4 |
      \change Staff = down
      <fis, a cis>4 gis <f a d>2 |
    }
  }
}

\new PianoStaff {
  <<
    \context Staff = "up" {
      #(set-accidental-style 'modern)
      \musicA
    }
    \context Staff = "down" {
      #(set-accidental-style 'modern)
      \musicB
    }
  >>
}
@end lilypond

@item modern-cautionary

@cindex altération, style @emph{modern cautionary}
@cindex @emph{modern cautionary}, style d'altération
@cindex altération de précaution, style @emph{modern}
@cindex @emph{modern}, style d'altération de précaution

@funindex modern-cautionary

Cette règle est équivalente à @code{modern}, mais les bécarres de
précaution (absents dans la règle @code{default}) sont imprimés de façon
particulière@tie{}: soit plus petit, soit (par défaut) entre parenthèses
-- il est possible de le définir au moyen de la propriété
@code{cautionary-style} de l'objet @code{AccidentalSuggestion}.

@lilypond[quote]
musicA = {
  <<
    \relative c' {
      cis'8 fis, d'4 <a cis>8 f bis4 |
      cis2. <c, g'>4 |
    }
    \\
    \relative c' {
      ais'2 cis, |
      fis8 b a4 cis2 |
    }
  >>
}

musicB = {
  \clef bass
  \new Voice {
    \voiceTwo \relative c' {
      <fis, a cis>8 <fis a cis>
      \change Staff = up
      cis' cis
      \change Staff = down
      <fis, a> <fis a>
      \showStaffSwitch
      \change Staff = up
      dis'4 |
      \change Staff = down
      <fis, a cis>4 gis <f a d>2 |
    }
  }
}

\new PianoStaff {
  <<
    \context Staff = "up" {
      #(set-accidental-style 'modern-cautionary)
      \musicA
    }
    \context Staff = "down" {
      #(set-accidental-style 'modern-cautionary)
      \musicB
    }
  >>
}
@end lilypond

@item modern-voice

@cindex @emph{modern}, style d'altération
@cindex style d'altération @emph{modern}
@cindex altérations multivoix
@cindex modern accidental style
@cindex voix multiples et altérations
@cindex multivoix, altérations

@funindex modern-voice

Cette règle sert aux altérations dans de la musique polyphonique destinée
autant à des musiciens différents qu'à quelqu'un qui lirait l'ensemble
des voix.  Les altérations sont imprimées voix par voix, mais les autres
voix d'un même contexte @code{Staff} en @emph{tiennent compte}
cette fois.  C'est pourquoi le @notation{la} de la dernière mesure est
affublé d'un bécarre bien qu'il y en ait déjà eu un dans la mesure
précédente, et que le @notation{ré} de la main gauche en ait un alors
qu'il avait auparavant concerné la main droite.

@lilypond[quote]
musicA = {
  <<
    \relative c' {
      cis'8 fis, d'4 <a cis>8 f bis4 |
      cis2. <c, g'>4 |
    }
    \\
    \relative c' {
      ais'2 cis, |
      fis8 b a4 cis2 |
    }
  >>
}

musicB = {
  \clef bass
  \new Voice {
    \voiceTwo \relative c' {
      <fis, a cis>8 <fis a cis>
      \change Staff = up
      cis' cis
      \change Staff = down
      <fis, a> <fis a>
      \showStaffSwitch
      \change Staff = up
      dis'4 |
      \change Staff = down
      <fis, a cis>4 gis <f a d>2 |
    }
  }
}

\new PianoStaff {
  <<
    \context Staff = "up" {
      #(set-accidental-style 'modern-voice)
      \musicA
    }
    \context Staff = "down" {
      #(set-accidental-style 'modern-voice)
      \musicB
    }
  >>
}
@end lilypond

@item modern-voice-cautionary

@cindex altération de précaution style @emph{modern voice}
@cindex @emph{modern voice}, styme d'altération de précaution

@funindex modern-voice-cautionary

Cette régle est similaire à la précédente, mais les altérations de
précaution (celles que n'aurait pas ajoutées @code{voice}), sont
imprimées de façon particulière.  On retrouve donc toutes les
altérations qu'imprimerait @code{default}, mais certaines sont
considérées comme étant @qq{de précaution}.

@lilypond[quote]
musicA = {
  <<
    \relative c' {
      cis'8 fis, d'4 <a cis>8 f bis4 |
      cis2. <c, g'>4 |
    }
    \\
    \relative c' {
      ais'2 cis, |
      fis8 b a4 cis2 |
    }
  >>
}

musicB = {
  \clef bass
  \new Voice {
    \voiceTwo \relative c' {
      <fis, a cis>8 <fis a cis>
      \change Staff = up
      cis' cis
      \change Staff = down
      <fis, a> <fis a>
      \showStaffSwitch
      \change Staff = up
      dis'4 |
      \change Staff = down
      <fis, a cis>4 gis <f a d>2 |
    }
  }
}

\new PianoStaff {
  <<
    \context Staff = "up" {
      #(set-accidental-style 'modern-voice-cautionary)
      \musicA
    }
    \context Staff = "down" {
      #(set-accidental-style 'modern-voice-cautionary)
      \musicB
    }
  >>
}
@end lilypond

@item piano

@cindex @emph{piano}, style d'altérations
@cindex altérations style @emph{piano}
@cindex piano et altérations

@funindex piano accidentals

Cette règle est communément employée pour les partitions de piano au
XXe siècle.  Très similaire à @code{modern} de par son comportement,
elle s'en distingue en ce que les altérations tiennent compte des autre
portées du contexte @code{GrandStaff} ou @code{PianoStaff}.

Cette règle s'applique par défaut dans un @code{GrandStaff} et dans un
@code{PianoStaff}.

@lilypond[quote]
musicA = {
  <<
    \relative c' {
      cis'8 fis, d'4 <a cis>8 f bis4 |
      cis2. <c, g'>4 |
    }
    \\
    \relative c' {
      ais'2 cis, |
      fis8 b a4 cis2 |
    }
  >>
}

musicB = {
  \clef bass
  \new Voice {
    \voiceTwo \relative c' {
      <fis, a cis>8 <fis a cis>
      \change Staff = up
      cis' cis
      \change Staff = down
      <fis, a> <fis a>
      \showStaffSwitch
      \change Staff = up
      dis'4 |
      \change Staff = down
      <fis, a cis>4 gis <f a d>2 |
    }
  }
}

\new PianoStaff {
  <<
    \context Staff = "up" {
      #(set-accidental-style 'piano)
      \musicA
    }
    \context Staff = "down" {
      \musicB
    }
  >>
}
@end lilypond

@item piano-cautionary

@cindex @emph{piano cautionary}, style d'altérations
@cindex altérations style @emph{piano cautionary}
@cindex piano et altérations

@funindex piano-cautionary

Identique au style @code{piano}, mais les altérations de précaution sont
imprimées différemment.

@lilypond[quote]
musicA = {
  <<
    \relative c' {
      cis'8 fis, d'4 <a cis>8 f bis4 |
      cis2. <c, g'>4 |
    }
    \\
    \relative c' {
      ais'2 cis, |
      fis8 b a4 cis2 |
    }
  >>
}

musicB = {
  \clef bass
  \new Voice {
    \voiceTwo \relative c' {
      <fis, a cis>8 <fis a cis>
      \change Staff = up
      cis' cis
      \change Staff = down
      <fis, a> <fis a>
      \showStaffSwitch
      \change Staff = up
      dis'4 |
      \change Staff = down
      <fis, a cis>4 gis <f a d>2 |
    }
  }
}

\new PianoStaff {
  <<
    \context Staff = "up" {
      #(set-accidental-style 'piano-cautionary)
      \musicA
    }
    \context Staff = "down" {
      \musicB
    }
  >>
}
@end lilypond

@item neo-modern

@cindex @emph{neo-modern}, style d'altérations
@cindex altérations, style @emph{neo-modern}

@funindex neo-modern

Cette règle suit les pratiques de la musique contemporaine@tie{}: les
altérations accidentelles apparaîssent comme dans le style
@code{modern}, à ceci près qu'elles sont répétées dans la même mesure --
sauf si elles concernent deux notes consécutives.

@lilypond[quote]
musicA = {
  <<
    \relative c' {
      cis'8 fis, d'4 <a cis>8 f bis4 |
      cis2. <c, g'>4 |
    }
    \\
    \relative c' {
      ais'2 cis, |
      fis8 b a4 cis2 |
    }
  >>
}

musicB = {
  \clef bass
  \new Voice {
    \voiceTwo \relative c' {
      <fis, a cis>8 <fis a cis>
      \change Staff = up
      cis' cis
      \change Staff = down
      <fis, a> <fis a>
      \showStaffSwitch
      \change Staff = up
      dis'4 |
      \change Staff = down
      <fis, a cis>4 gis <f a d>2 |
    }
  }
}

\new PianoStaff {
  <<
    \context Staff = "up" {
      #(set-accidental-style 'neo-modern)
      \musicA
    }
    \context Staff = "down" {
      #(set-accidental-style 'neo-modern)
      \musicB
    }
  >>
}
@end lilypond

@item neo-modern-cautionary

@cindex @emph{neo-modern-cautionary}, style d'altérations
@cindex style d'altération @emph{neo-modern-cautionary}

@funindex neo-modern-cautionary

Identique au style @code{neo-modern}, mais les altérations de précaution
sont imprimées différemment.

@lilypond[quote]
musicA = {
  <<
    \relative c' {
      cis'8 fis, d'4 <a cis>8 f bis4 |
      cis2. <c, g'>4 |
    }
    \\
    \relative c' {
      ais'2 cis, |
      fis8 b a4 cis2 |
    }
  >>
}

musicB = {
  \clef bass
  \new Voice {
    \voiceTwo \relative c' {
      <fis, a cis>8 <fis a cis>
      \change Staff = up
      cis' cis
      \change Staff = down
      <fis, a> <fis a>
      \showStaffSwitch
      \change Staff = up
      dis'4 |
      \change Staff = down
      <fis, a cis>4 gis <f a d>2 |
    }
  }
}

\new PianoStaff {
  <<
    \context Staff = "up" {
      #(set-accidental-style 'neo-modern-cautionary)
      \musicA
    }
    \context Staff = "down" {
      #(set-accidental-style 'neo-modern-cautionary)
      \musicB
    }
  >>
}
@end lilypond

@item neo-modern-voice

@cindex @emph{neo-modern-voice}, style d'altération
@cindex style d'altération @emph{neo-modern-voice}
@cindex altérations multivoix
@cindex neo-modern-voice accidental style
@cindex voix multiples et altérations
@cindex multivoix, altérations

@funindex neo-modern-voice

Cette règle sert aux altérations dans de la musique polyphonique destinée
autant à des musiciens différents qu'à quelqu'un qui lirait l'ensemble
des voix.  Les altérations sont imprimées voix par voix comme avec le style
@code{neo-modern} mais les autres voix dans le même contexte @code{Staff}
en tiennent aussi compte.

@lilypond[quote]
musicA = {
  <<
    \relative c' {
      cis'8 fis, d'4 <a cis>8 f bis4 |
      cis2. <c, g'>4 |
    }
    \\
    \relative c' {
      ais'2 cis, |
      fis8 b a4 cis2 |
    }
  >>
}

musicB = {
  \clef bass
  \new Voice {
    \voiceTwo \relative c' {
      <fis, a cis>8 <fis a cis>
      \change Staff = up
      cis' cis
      \change Staff = down
      <fis, a> <fis a>
      \showStaffSwitch
      \change Staff = up
      dis'4 |
      \change Staff = down
      <fis, a cis>4 gis <f a d>2 |
    }
  }
}

\new PianoStaff {
  <<
    \context Staff = "up" {
      #(set-accidental-style 'neo-modern-voice)
      \musicA
    }
    \context Staff = "down" {
      #(set-accidental-style 'neo-modern-voice)
      \musicB
    }
  >>
}
@end lilypond

@item neo-modern-voice-cautionary

@funindex neo-modern-voice-cautionary

Cette règle est indentique à @code{neo-modern-voice},
mais les altérations de précaution sont imprimées
soit entre parenthèses (par défaut), soit en plus petit.

@lilypond[quote]
musicA = {
  <<
    \relative c' {
      cis'8 fis, d'4 <a cis>8 f bis4 |
      cis2. <c, g'>4 |
    }
    \\
    \relative c' {
      ais'2 cis, |
      fis8 b a4 cis2 |
    }
  >>
}

musicB = {
  \clef bass
  \new Voice {
    \voiceTwo \relative c' {
      <fis, a cis>8 <fis a cis>
      \change Staff = up
      cis' cis
      \change Staff = down
      <fis, a> <fis a>
      \showStaffSwitch
      \change Staff = up
      dis'4 |
      \change Staff = down
      <fis, a cis>4 gis <f a d>2 |
    }
  }
}

\new PianoStaff {
  <<
    \context Staff = "up" {
      #(set-accidental-style 'neo-modern-voice-cautionary)
      \musicA
    }
    \context Staff = "down" {
      #(set-accidental-style 'neo-modern-voice-cautionary)
      \musicB
    }
  >>
}
@end lilypond

@item dodecaphonic

@cindex @emph{dodecaphonic}, style d'altérations
@cindex altération, style @emph{dodecaphonic}

@funindex dodecaphonic

Cette règle reproduit ce que certains compositeurs du début du XXe
siècle ont introduit dans leur désir d'abolir la distinction entre les
notes naturelles ou non.  Ainsi, @strong{chaque} note est affublée d'une
altération, même si elle est naturelle.

@lilypond[quote]
musicA = {
  <<
    \relative c' {
      cis'8 fis, d'4 <a cis>8 f bis4 |
      cis2. <c, g'>4 |
    }
    \\
    \relative c' {
      ais'2 cis, |
      fis8 b a4 cis2 |
    }
  >>
}

musicB = {
  \clef bass
  \new Voice {
    \voiceTwo \relative c' {
      <fis, a cis>8 <fis a cis>
      \change Staff = up
      cis' cis
      \change Staff = down
      <fis, a> <fis a>
      \showStaffSwitch
      \change Staff = up
      dis'4 |
      \change Staff = down
      <fis, a cis>4 gis <f a d>2 |
    }
  }
}

\new PianoStaff {
  <<
    \context Staff = "up" {
      #(set-accidental-style 'dodecaphonic)
      \musicA
    }
    \context Staff = "down" {
      #(set-accidental-style 'dodecaphonic)
      \musicB
    }
  >>
}
@end lilypond


@item teaching

@cindex @emph{teaching}, style d'altérations
@cindex altérations, style @emph{teaching}

@funindex teaching

Cette règle est à usage pédagogique@tie{}: l'impression d'une simple
gamme fera apparaître une altération de précaution pour toute note
altérée.  Les altérations accidentelles sont imprimées selon le style
@code{modern}, et une altération de précaution est ajoutée pour chaque
dièse ou bémol à la clef -- sauf dans le cas de notes consécutives.

@lilypond[quote]
musicA = {
  <<
    \relative c' {
      cis'8 fis, d'4 <a cis>8 f bis4 |
      cis2. <c, g'>4 |
    }
    \\
    \relative c' {
      ais'2 cis, |
      fis8 b a4 cis2 |
    }
  >>
}

musicB = {
  \clef bass
  \new Voice {
    \voiceTwo \relative c' {
      <fis, a cis>8 <fis a cis>
      \change Staff = up
      cis' cis
      \change Staff = down
      <fis, a> <fis a>
      \showStaffSwitch
      \change Staff = up
      dis'4 |
      \change Staff = down
      <fis, a cis>4 gis <f a d>2 |
    }
  }
}

\new PianoStaff {
  <<
    \context Staff = "up" {
      \key fis \minor
      #(set-accidental-style 'teaching)
      \musicA
    }
    \context Staff = "down" {
      \key fis \minor
      #(set-accidental-style 'teaching)
      \musicB
    }
  >>
}
@end lilypond

@item no-reset

@cindex altération, style @emph{no reset}
@cindex @emph{no reset}, style d'altérations

@funindex no-reset

C'est la même règle que @code{default}, mais l'effet des altérations
accidentelles ne cesse jamais, même dans les mesures suivantes.

@lilypond[quote]
musicA = {
  <<
    \relative c' {
      cis'8 fis, d'4 <a cis>8 f bis4 |
      cis2. <c, g'>4 |
    }
    \\
    \relative c' {
      ais'2 cis, |
      fis8 b a4 cis2 |
    }
  >>
}

musicB = {
  \clef bass
  \new Voice {
    \voiceTwo \relative c' {
      <fis, a cis>8 <fis a cis>
      \change Staff = up
      cis' cis
      \change Staff = down
      <fis, a> <fis a>
      \showStaffSwitch
      \change Staff = up
      dis'4 |
      \change Staff = down
      <fis, a cis>4 gis <f a d>2 |
    }
  }
}

\new PianoStaff {
  <<
    \context Staff = "up" {
      #(set-accidental-style 'no-reset)
      \musicA
    }
    \context Staff = "down" {
      #(set-accidental-style 'no-reset)
      \musicB
    }
  >>
}
@end lilypond

@item forget

@cindex @emph{forget}, style d'altérations
@cindex altérations, style @emph{forget}

@funindex forget

Tout le contraire de @code{no-reset}@tie{}: l'effet des altérations
cesse aussitôt@tie{}; toutes les altérations, quelque soit leur place
dans la mesure, sont de ce fait imprimées en fonction de l'éventuelle
armure.  À l'inverse du style @code{dodecaphonic}, aucun bécarre ne sera
ici imprimé.

@lilypond[quote]
musicA = {
  <<
    \relative c' {
      cis'8 fis, d'4 <a cis>8 f bis4 |
      cis2. <c, g'>4 |
    }
    \\
    \relative c' {
      ais'2 cis, |
      fis8 b a4 cis2 |
    }
  >>
}

musicB = {
  \clef bass
  \new Voice {
    \voiceTwo \relative c' {
      <fis, a cis>8 <fis a cis>
      \change Staff = up
      cis' cis
      \change Staff = down
      <fis, a> <fis a>
      \showStaffSwitch
      \change Staff = up
      dis'4 |
      \change Staff = down
      <fis, a cis>4 gis <f a d>2 |
    }
  }
}

\new PianoStaff {
  <<
    \context Staff = "up" {
      #(set-accidental-style 'forget)
      \musicA
    }
    \context Staff = "down" {
      #(set-accidental-style 'forget)
      \musicB
    }
  >>
}
@end lilypond
@end table

@snippets

@lilypondfile[verbatim,lilyquote,texidoc,doctitle]
{dodecaphonic-style-accidentals-for-each-note-including-naturals.ly}


@seealso
Morceaux choisis :
@rlsrnamed{Pitches,Hauteurs}.

Référence des propriétés internes :
@rinternals{Accidental},
@rinternals{Accidental_engraver},
@rinternals{GrandStaff} et
@rinternals{PianoStaff},
@rinternals{Staff},
@rinternals{AccidentalSuggestion},
@rinternals{AccidentalPlacement}.
@rinternals{accidental-suggestion-interface}.


@cindex altérations et notes simultanées
@cindex notes simultanées et altérations
@cindex altérations et accords
@cindex accords et altérations


@knownissues

Les notes simultanées sont considérées comme des évènements séquentiels.
Ceci implique que, dans un accord, les altérations accidentelles
seront imprimées comme si les notes de l'accord apparaissaient l'une
après l'autre, en fonction de l'ordre dans lequel elles ont été saisies
-- ce qui peut poser problème lorsqu'au sein d'un accord certaines
altérations dépendent les unes des autres.
Ce problème est à résoudre manuellement, en insérant des@tie{}@code{!}
et des@tie{}@code{?} après les notes concernées.

L'absence d'altération de précaution est déterminée par l'examen de la
mesure précédente.  Néanmoins, lorsqu'un bloc @code{\alternative} suit
une section @code{\repeat@tie{}volta@tie{}N}, la logique voudrait que
l'on regarde la dernière mesure @emph{jouée} plutôt que la dernière
@emph{imprimée}.  Dans l'exemple qui suit, vous conviendrez que le do de
la seconde alternative ne nécessite pas son bécarre.

@lilypond[quote]
{
  #(set-accidental-style 'modern)
  \time 2/4
  \repeat volta 2 {
    c'2
  }
  \alternative {
     cis'
     c'
  }
}
@end lilypond

L'astuce suivante, qui définit temporairement le recours au style
@code{forget}, permet d'obtenir quelque chose de présentable.

@lilypond[verbatim,quote]
forget = #(define-music-function (parser location music) (ly:music?) #{
  #(set-accidental-style 'forget)
  $music
  #(set-accidental-style 'modern)
#})
{
  #(set-accidental-style 'modern)
  \time 2/4
  \repeat volta 2 {
    c'2
  }
  \alternative {
     cis'
     \forget c'
  }
}
@end lilypond


@node Ambitus
@unnumberedsubsubsec Ambitus
@translationof Ambitus

@cindex ambitus
@cindex tessiture
@cindex amplitude

L'@emph{ambitus} est l'amplitude des hauteurs d'une voix donnée dans une
partition.  Ce terme peut aussi désigner la tessiture qu'un instrument
est capable d'atteindre.  Souvent, cet @emph{ambitus} est imprimé au
début des partitions vocales, afin que les exécutants puissent voir au
premier coup d'œil s'ils sont en mesure de tenir la partie en question.

Pour exprimer l'@emph{ambitus} d'une pièce, on indique avant la clef
deux notes représentant la hauteur la plus basse et la plus haute.  Les
éventuelles altérations accidentelles seront automatiquement ajoutées.

@lilypond[verbatim,quote]
\layout {
  \context {
    \Voice
    \consists "Ambitus_engraver"
  }
}

\relative c'' {
  aes c e2
  cis,1
}
@end lilypond


@snippets

@lilypondfile[verbatim,lilyquote,texidoc,doctitle]
{adding-ambitus-per-voice.ly}

@lilypondfile[verbatim,lilyquote,texidoc,doctitle]
{ambitus-with-multiple-voices.ly}

@lilypondfile[verbatim,lilyquote,texidoc,doctitle]
{changing-the-ambitus-gap.ly}


@seealso
Glossaire musicologique :
@rglos{ambitus}.

Morceaux choisis :
@rlsrnamed{Pitches,Hauteurs}.

Référence des propriétés internes :
@rinternals{Ambitus_engraver},
@rinternals{Voice},
@rinternals{Staff},
@rinternals{Ambitus},
@rinternals{AmbitusAccidental},
@rinternals{AmbitusLine},
@rinternals{AmbitusNoteHead},
@rinternals{ambitus-interface}.


@knownissues

LilyPond ne gère pas les collisions entre plusieurs @emph{ambitus}
présents sur une même portée.


@node Têtes de note
@subsection Têtes de note
@translationof Note heads

Nous allons voir dans ce chapitre comment modifier l'aspect des têtes de
note.

@menu
* Têtes de note spécifiques::
* Têtes de note avec nom de note::
* Têtes de note à forme variable::
* Improvisation::
@end menu

@node Têtes de note spécifiques
@unnumberedsubsubsec Têtes de note spécifiques
@translationof Special note heads

@cindex têtes de note, spéciales
@cindex croix, tête de note
@cindex losange, tête de note
@cindex parlato, tête de note
@cindex harmonique, tête de note
@cindex guitare, tête de note
@cindex styles, tête de note

@funindex cross

L'apparence des têtes de note peut évoluer au cours de la partition@tie{}:

@lilypond[verbatim,quote,relative=2]
c4 b
\override NoteHead #'style = #'cross
c4 b
\revert NoteHead #'style
a b
\override NoteHead #'style = #'harmonic
a b
\revert NoteHead #'style
c4 d e f
@end lilypond

Pour une liste exhaustive des styles de tête de note, consultez
@ref{Styles de tête de note}.

Certains instruments utilisent des têtes de note différentes à des
fins spécifiques -- des croix (style @code{cross}) pour le
@emph{parlato} des chanteurs ou les notes étouffées des guitares@tie{}:

@lilypond[verbatim,quote,relative=2]
c4 b
\xNotesOn
 a b c4 b
\xNotesOff
c4 d
@end lilypond

Cette commande opère aussi bien sur des notes isolées qu'au sein d'un
accord, dans une portée traditionnelle ou dans un contexte de
tablature@tie{}:

@lilypond[verbatim,quote,relative=2]
c4 b
\xNote { e f }
c b < g \xNote c f > b
@end lilypond

Vous pouvez utiliser, en lieu et place de @code{\xNote},
@code{\xNotesOn} et @code{\xNotesOff}, les commandes
@code{\deadNote}, @code{\deadNotesOn} et @code{\deadNotesOff}.


Il existe un raccourci pour les notes en losange qui indiquent les
harmoniques des cordes@tie{}:

@lilypond[verbatim,quote,relative=2]
<c f\harmonic>2 <d a'\harmonic>4 <c g'\harmonic>
@end lilypond


@predefined
@code{\harmonic},
@code{\xNotesOn},
@code{\xNotesOff},
@code{\xNote}.
@endpredefined


@seealso
Morceaux choisis :
@rlsrnamed{Pitches,Hauteurs}.

Manuel de notation :
@ref{Styles de tête de note},
@ref{Notes en accords},
@ref{Indication des harmoniques et notes étouffées}.

Référence des propriétés internes :
@rinternals{note-event},
@rinternals{Note_heads_engraver},
@rinternals{Ledger_line_engraver},
@rinternals{NoteHead}.
@rinternals{LedgerLineSpanner},
@rinternals{note-head-interface},
@rinternals{ledger-line-spanner-interface}.


@node Têtes de note avec nom de note
@unnumberedsubsubsec Têtes de note avec nom de note
@translationof Easy notation note heads

@cindex tête de note, apprentissage
@cindex notation facile
@cindex Hal Leonard
@cindex @emph{easy play}, têtes de note

@funindex \easyHeadsOn
@funindex easyHeadsOn
@funindex \easyHeadsOff
@funindex easyHeadsOff

Les notes @qq{easy play} comportent le nom de la note à l'intérieur de
la tête.  On l'utilise dans des partitions pour débutants.  L'impression
doit être de plus grande taille, afin que les lettres soient lisibles.
Voir à ce propos @ref{Définition de la taille de portée}.

@lilypond[verbatim,quote]
#(set-global-staff-size 26)
\relative c' {
  \easyHeadsOn
  c2 e4 f
  g1
  \easyHeadsOff
  c,1
}
@end lilypond


@predefined
@code{\easyHeadsOn},
@code{\easyHeadsOff}.
@endpredefined


@snippets

@lilypondfile[verbatim,lilyquote,texidoc,doctitle]
{numbers-as-easy-note-heads.ly}


@seealso
Manuel de notation :
@ref{Définition de la taille de portée}.

Morceaux choisis :
@rlsrnamed{Pitches,Hauteurs}.

Référence des propriétés internes :
@rinternals{note-event},
@rinternals{Note_heads_engraver},
@rinternals{NoteHead},
@rinternals{note-head-interface}.


@node Têtes de note à forme variable
@unnumberedsubsubsec Têtes de note à forme variable
@translationof Shape note heads

@cindex tête de note, allure
@cindex tête de note, Aiken
@cindex tête de note, harpe sacrée
@cindex notes profilées
@cindex Aiken, tête de note
@cindex harpe sacrée, tête de note
@cindex Funk, tête de note
@cindex tête de note, Funk
@cindex tête de note, Harmonica Sacra
@cindex Harmonica Sacra, tête de note
@cindex Christian Harmony, tête de note
@cindex tête de note, Christian Harmony
@cindex Walker shape, tête de note
@cindex tête de note, Walker

@funindex \key
@funindex key
@funindex \aikenHeads
@funindex aikenHeads
@funindex \aikenHeadsMinor
@funindex aikenHeadsMinor
@funindex \sacredHarpHeads
@funindex sacredHarpHeads
@funindex \sacredHarpHeadsMinor
@funindex sacredHarpHeadsMinor
@funindex \southernHarmonyHeads
@funindex southernHarmonyHeads
@funindex \southernHarmonyHeadsMinor
@funindex southernHarmonyHeadsMinor
@funindex \funkHeads
@funindex funkHeads
@funindex \walkerHeads
@funindex walkerHeads
@funindex \funkHeadsMinor
@funindex funkHeadsMinor
@funindex \walkerHeadsMinor
@funindex walkerHeadsMinor

En notation profilée, le profil d'une tête de note correspond à la
fonction harmonique de cette note dans la gamme.  Ce style de notation
était très en vogue dans les recueils de chansons américains du XIXe
siècle.  Voici comment procéder@tie{}:

@lilypond[verbatim,quote,relative=2]
\aikenHeads
c, d e f g2 a b1 c \break
\sacredHarpHeads
c,4 d e f g2 a b1 c \break
\southernHarmonyHeads
c,4 d e f g2 a b1 c \break
\funkHeads
c,4 d e f g2 a b1 c \break
\walkerHeads
c,4 d e f g2 a b1 c \break
@end lilypond

Les profils sont déterminés par la hauteur dans la gamme, le premier
degré étant défini par la commande @code{\key}.  Pour une tonalité
mineure, les degrés sont déterminés par rapport au relatif majeur@tie{}:

@lilypond[verbatim,quote,relative=2]
\key a \minor
\aikenHeads
a b c d e2 f g1 a \break
\aikenHeadsMinor
a,4 b c d e2 f g1 a \break
\sacredHarpHeadsMinor
a,2 b c d \break
\southernHarmonyHeadsMinor
a2 b c d \break
\funkHeadsMinor
a2 b c d \break
\walkerHeadsMinor
a2 b c d \break
@end lilypond



@predefined
@code{\aikenHeads},
@code{\aikenHeadsMinor},
@code{\funkHeads},
@code{\funkHeadsMinor},
@code{\sacredHarpHeads}.
@code{\sacredHarpHeadsMinor},
@code{\southernHarmonyHeads},
@code{\southernHarmonyHeadsMinor},
@code{\walkerHeads},
@code{\walkerHeadsMinor}.
@endpredefined


@snippets

@lilypondfile[verbatim,lilyquote,texidoc,doctitle]
{applying-note-head-styles-depending-on-the-step-of-the-scale.ly}

Pour une liste exhaustive des styles de tête de note, consultez
@ref{Styles de tête de note}.


@seealso
Morceaux choisis :
@rlsrnamed{Pitches,Hauteurs}.

Manuel de notation :
@ref{Styles de tête de note}.

Référence des propriétés internes :
@rinternals{note-event},
@rinternals{Note_heads_engraver},
@rinternals{NoteHead},
@rinternals{note-head-interface}.


@node Improvisation
@unnumberedsubsubsec Improvisation
@translationof Improvisation

@cindex improvisation
@cindex notes penchées
@cindex tête de note et improvisation
@cindex tête de note allongée

@funindex \improvisationOn
@funindex improvisationOn
@funindex \improvisationOff
@funindex improvisationOff

L'improvisation peut quelquefois s'indiquer à l'aide de notes de forme
allongée (@emph{slash}).  L'interprète jouera alors les notes qu'il
veut, en respectant toutefois le rythme affiché. Ces têtes de notes sont
créées ainsi@tie{}:

@lilypond[verbatim,quote,relative=2]
\new Voice \with {
  \consists "Pitch_squash_engraver"
} {
  e8 e g a a16( bes) a8 g
  \improvisationOn
  e8 ~
  e2 ~ e8 f4 f8 ~
  f2
  \improvisationOff
  a16( bes) a8 g e
}
@end lilypond


@predefined
@code{\improvisationOn},
@code{\improvisationOff}.
@endpredefined


@seealso
Morceaux choisis :
@rlsrnamed{Pitches,Hauteurs}.

Référence des propriétés internes :
@rinternals{Pitch_squash_engraver},
@rinternals{Voice},
@rinternals{RhythmicStaff}.


