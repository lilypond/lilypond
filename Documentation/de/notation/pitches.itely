@c -*- coding: utf-8; mode: texinfo; documentlanguage: de -*-
@ignore
    Translation of GIT committish: e5a609e373eae846857f9a6d70a402a3d42b7d94

    When revising a translation, copy the HEAD committish of the
    version that you are working on.  For details, see the Contributors'
    Guide, node Updating translation committishes..
@end ignore

@c \version "2.21.0"

@c Translators: Till Paala

@node Tonhöhen
@section Tonhöhen
@translationof Pitches

@lilypondfile[quote]{snippets/pitches-headword.ly}

Dieser Abschnitt zeigt, wie man die Tonhöhe notieren kann.
Es gibt drei Stufen in diesem Prozess: Eingabe, Veränderung und Ausgabe.

@menu
* Tonhöhen setzen::
* Viele Tonhöhen gleichzeitig verändern::
* Tonhöhen anzeigen lassen::
* Notenköpfe::
@end menu


@node Tonhöhen setzen
@subsection Tonhöhen setzen
@translationof Writing pitches

Dieser Abschnitt zeigt, wie man Tonhöhen notiert.  Es gibt
zwei verschiedene Möglichkeiten, Noten in bestimmten
Oktaven zu notieren: den absoluten und den relativen
Modus.  In den meisten Fällen eignet sich der relative
Modus besser.

@menu
* Absolute Oktavenbezeichnung::
* Relative Oktavenbezeichnung::
* Versetzungszeichen::
* Notenbezeichnungen in anderen Sprachen::
@end menu

@node Absolute Oktavenbezeichnung
@unnumberedsubsubsec Absolute Oktavenbezeichnung
@translationof Absolute octave entry

@cindex Tonhöhenbezeichnungen
@cindex Absoluter Modus: Tonhöhen
@cindex Absolute Spezifikation von Oktaven
@cindex Angabe der Oktave: absolut

@c some extra explanation for German users
Tonhöhenbezeichnungen werden durch Kleinbuchstaben
von@tie{}@code{a} bis@tie{}@code{g} angegeben.  Dabei
wird ein aus dem Englischen entlehntes Modell benutzt, das sich
vom Deutschen dadurch unterscheidet, dass@tie{}@code{b}
für die Note @qq{H} steht.  Die Benutzung deutscher
Notenbezeichnungen mit der Unterscheidung von b und h ist
auch möglich, siehe @ref{Notenbezeichnungen in anderen Sprachen}.
Die Notenbezeichnungen @code{c} bis @code{b}
werden in der Oktave unter dem eingestrichenen C
gesetzt.

@c don't use c' here.
@lilypond[verbatim,quote]
{
  \clef bass
  c4 d e f
  g4 a b c
  d4 e f g
}
@end lilypond

@cindex Oktavwechsel: Tonhöhe
@cindex Wechsel der Oktave
@cindex Tonhöhe: Wechsel der Oktave

@funindex '
@funindex ,

Andere Oktaven können erreicht werden, indem man ein
Apostroph@tie{}(@code{'}) oder ein Komma@tie{}(@code{,})
benutzt.  Jedes@tie{}@code{'} erhöht die Tonhöhe um
eine Oktave, jedes@tie{}@code{,} erniedrigt sie um eine
Oktave.

@lilypond[verbatim,quote]
{
  \clef treble
  c'4 c'' e' g
  d''4 d' d c
  \clef bass
  c,4 c,, e, g
  d,,4 d, d c
}
@end lilypond

@morerefs
Glossar:
@rglos{Pitch names}.

Schnipsel:
@rlsr{Pitches}.


@node Relative Oktavenbezeichnung
@unnumberedsubsubsec Relative Oktavenbezeichnung
@translationof Relative octave entry

@cindex Relativ
@cindex Relative Oktavbestimmung
@cindex Oktavbestimmung, relativ
@cindex Noteneingabe: relative Oktavbestimmung

@funindex \relative

Wenn Oktaven im absoluten Modus notiert, passiert es
schnell, eine Note auf der falschen Oktave zu notieren.  Mit
dem relativen Modus kommen solche Fehler seltener vor, weil
man die Oktave nur noch sehr selten spezifizieren muss.
Hinzu kommt, dass im absoluten Modus ein einzelner Fehler
schwer zu finden ist, während er im relativen Modus den
ganzen Rest des Stückes um eine Oktave verschiebt.

@example
\relative @var{Anfangstonhöhe} @var{musikalischer Ausdruck}
@end example

Im relativen Modus wird angenommen, dass sich jede folgende
Note so dicht wie möglich bei der nächsten befindet.  Das bedeutet,
dass die Oktave jeder Tonhöhe innerhalb eines @var{musikalischen
Ausdrucks} wie folgt errechnet wird:

@itemize
@item
Wenn kein Oktavänderungszeichen an einer Tonhöhe benutzt wird,
wird ihre Oktave so errechnet, dass das Intervall zur vorigen
Noten weniger als eine Quinte ist.  Das Intervall wird errechnet,
ohne Versetzungszeichen zu berücksichtigen.

@item
Ein Oktavänderungszeichen@tie{}@code{'} oder@tie{}@code{,}
kann hinzugefügt werden, um eine Tonhöhe explizit um eine
Oktave zu erhöhen bzw. zu erniedrigen, relativ zu der Tonhöhe,
die ohne das Oktavänderungszeichen errechnet wurde.

@item
Mehrfache Oktavänderungszeichen können benutzt werden.  Die
Zeichen@code{''}@tie{}und@tie{}@code{,,} ändern zum Beispiel
die Tonhöhe um zwei Oktaven.

@item
Die Tonhöhe der ersten Note ist relativ zu
@code{@var{Anfangstonhöhe}}.  Die @var{Anfangstonhöhe} wird
im absoluten Modus gesetzt, und als Empfehlung gilt, eine
Oktave von C zu nehmen.

@end itemize

So funktioniert der relative Modus:

@lilypond[verbatim,quote]
\relative {
  \clef bass
  c d e f
  g a b c
  d e f g
}
@end lilypond

Oktavversetzungen müssen für alle Intervalle angezeigt werden,
die größer als eine Quarte sind.

@lilypond[verbatim,quote]
\relative {
  c'' g c f,
  c' a, e'' c
}
@end lilypond

Eine Sequenz ohne ein einziges Oktavänderungszeichen kann
aber trotzdem weite Intervalle umfassen:

@lilypond[verbatim,quote]
\relative {
  c f b e
  a d g c
}
@end lilypond

Wenn @code{\relative}-Umgebungen geschachtelt werden, gilt
der innerste @code{\relative}-Abschnitt.

@lilypond[verbatim,quote]
\relative {
  c' d e f
  \relative {
    c'' d e f
  }
}
@end lilypond

@code{\relative} hat keine Auswirkung auf @code{\chordmode}-Abschnitte.

@lilypond[verbatim,quote]
\new Staff {
  \relative c''' {
    \chordmode { c1 }
  }
  \chordmode { c1 }
}
@end lilypond

@code{\relative} darf nicht innerhalb von @code{\chordmode}
notiert werden.

Tonhöhen innerhalb eines @code{\transpose}-Abschnitts sind absolut,
es sei denn ein @code{\relativ} wird eingefügt.

@lilypond[verbatim,quote]
\relative {
  d' e
  \transpose f g {
    d e
    \relative {
      d' e
    }
  }
}
@end lilypond

@cindex Akkorde und relativer Modus
@cindex relativer Modus und Akkorde
@cindex Oktavenmodus (relativ) und Akkorde

Wenn der vorherige Ausdruck ein Akkord ist, wird die erste Note
des Akkordes benutzt, um die erste Note des nächsten Akkordes zu
bestimmen.  Innerhalb von Akkorden ist die nächste Note immer
relativ zur vorherigen.  Betrachten Sie das folgende Beispiel
aufmerksam, insbesondere die @code{c}-Noten.

@lilypond[verbatim,quote]
\relative {
  c'
  <c e g>
  <c' e g'>
  <c, e, g''>
}
@end lilypond

Wie oben erklärt wurde, wird die Oktave einer Tonhöhe nur
nach ihrer Notenbezeichnung errechnet, unabhängig von allen
Versetzungszeichen.  Darum wird ein Eisis auf ein H (notiert als @code{b})
folgend höher gesetzt, während ein Feses tiefer gesetzt wird.
Anders gesagt wird eine doppelterhöhte Quarte wird als
kleineres Intervall angesehen als eine doppelterniedrigte
Quinte, unabhängig von der Anzahl an Halbtönen, die jedes
Intervall enthält.

@lilypond[verbatim,quote]
\relative {
  c''2 fis
  c2 ges
  b2 eisis
  b2 feses
}
@end lilypond

Eine Konsequenz dieser Regeln ist, dass die erste Note innerhalb von
@code{@w{\relative f}} auf die selbe Art interpretiert wird als wenn
sie im absoluten Tonhöhenmodus geschrieben worden wäre.

@morerefs
Musikgossar:
@rglos{fifth},
@rglos{interval},
@rglos{Pitch names}.

Notationsreferenz:
@ref{Oktavenüberprüfung}.

Schnipsel:
@rlsr{Pitches}.

Referenz der Interna:
@rinternals{RelativeOctaveMusic}.


@cindex Relativer Oktavenmodus und Transposition
@cindex Transposition und relativer Modus

@funindex \transpose
@funindex \chordmode
@funindex \relative
@funindex transpose
@funindex chordmode
@funindex relative

@c DEPRECATED
Wenn keine @var{Anfangstonhöhe} für @code{\relative} angegeben
wird, wird@tie{}@code{c'} angenommen.  Das ist aber eine
veraltete Option, die in späteren Programmversionen verschwinden kann.
Darum wird von der Benutzung abgeraten.


@node Versetzungszeichen
@unnumberedsubsubsec Versetzungszeichen
@translationof Accidentals

@cindex Versetzungszeichen
@cindex Tonart
@cindex Schlüssel
@cindex Akzidentien

@warning{Neue Benutzer sind manchmal verwirrt, wie
Versetzungszeichen und Vorzeichen/Tonarten funktionieren.
In LilyPond sind Notenbezeichnungen die wirkliche
Tonhöhe, erst durch Vorzeichen wird bestimmt, wie diese
Tonhöhe dann im Notenbild dargestellt wird. Eine
einfache Tonhöhe wie etwa@tie{}@code{c} bedeutet also
immer das eingestrichene C ohne Versetzungszeichen, egal
was für Vorzeichen/Tonart oder Schlüssel gesetzt sind.
Mehr Information dazu in @rlearning{Tonhöhen und Tonartbezeichnungen (Vorzeichen)}.}

@cindex Notenbezeichnungen, Deutsch
@cindex Notenbezeichnungen, Holländisch
@cindex Notenbezeichnungen, Standard
@cindex Versetzungszeichen, Deutsch
@cindex Standardnotenbezeichnungen
@cindex Kreuz
@cindex B
@cindex Doppelkreuz
@cindex Doppel-B
@cindex Auflösungszeichen
@cindex wirkliche Tonhöhe


Ein @notation{Kreuz} wird eingegeben, indem man @code{-is} an die
Notenbezeichnung hängt, ein b durch @code{-es}. Doppelkreuze
und Doppel-Bs werden durch Hinzufügen von @code{-isis} und
@code{-eses} hinter die Notenbezeichnung erzeugt. Diese
Syntax leitet sich von den holländischen Notenbezeichnungen
ab. Um andere Bezeichnungen für Versetzungszeichen zu
benutzen, siehe @ref{Notenbezeichnungen in anderen Sprachen}.

@lilypond[verbatim,quote,fragment]
\relative c'' { ais1 aes aisis aeses }
@end lilypond

Auch die deutschen Varianten @code{as} für @code{aes} und
@code{es} für @code{ees} sind erlaubt. Im Unterschied zum
Deutschen ist aber @code{bes} die einzige Version für den Ton
B, während his als @code{bis} geschrieben werden muss. Das kann
aber auch verändert werden, siehe @ref{Notenbezeichnungen in anderen Sprachen}.

Ein Auflösungszeichen macht die Wirkung eines Kreuzes oder Bs
rückgängig. Diese Auflösungszeichen werden jedoch nicht
als Suffix einer Tonhöhenbezeichnung eingegeben, sondern
sie ergeben sich (automatisch) aus dem Kontext, wenn die
nicht alterierte Notenbezeichnung eingegeben wird.

@lilypond[quote,verbatim,relative=2]
a4 aes a2
@end lilypond


@cindex Vierteltöne
@cindex Vorzeichen, Vierteltöne
@cindex Versetzungszeichen, Vierteltöne
@cindex Mikrotöne
@cindex Halbkreuz
@cindex Halb-B

Versetzungszeichen für Vierteltöne werden durch Anhängen der Endungen
@code{-eh} (Erniedrigung) und @code{-ih} (Erhöhung) an den
Tonhöhenbuchstaben erstellt. Das Beispiel zeigt eine in Vierteltönen
aufsteigende Serie vom eingestrichenen C.

@lilypond[verbatim,quote,fragment]
\relative c'' { ceseh1 ces ceh c cih cis cisih }
@end lilypond


@cindex Versetzungszeichen, Erinnerung
@cindex Versetzungszeichen, Warnung
@cindex Vorzeichen, Erinnerung
@cindex Vorzeichen in Klammern
@cindex Erinnerungsvorzeichen
@cindex Warnungsvorzeichen
@cindex Klammern um Vorzeichen

@funindex ?
@funindex !

Normalerweise werden Versetzungszeichen automatisch gesetzt, aber
sie können auch manuell hinzugefügt werden. Ein erinnerndes
Versetzungszeichen kann erzwungen werden, indem man ein Ausrufungszeichen
(@code{!}) hinter die Notenbezeichnung schreibt. Ein warnendes
Versetzungszeichen (also ein Vorzeichen in Klammern) wird durch Anfügen
eines Fragezeichens (@code{?}) erstellt. Mit diesen zusätzlichen
Zeichen kann man sich auch Auflösungszeichen ausgeben lassen.

@lilypond[quote,ragged-right,fragment,verbatim,relative=1]
cis cis cis! cis? c c? c! c
@end lilypond

@cindex Versetzungszeichen an übergebundener Note
@cindex Überbindung, Versetzungszeichen

Versetzungzeichen von übergebundenen Noten werden nur
dann gesetzt, wenn ein neues System begonnen wird:

@lilypond[verbatim,quote,relative=2]
cis1~ 1~
\break
cis
@end lilypond

@snippets

@lilypondfile[verbatim,quote,texidoc,doctitle]
{snippets/hiding-accidentals-on-tied-notes-at-the-start-of-a-new-system.ly}

@lilypondfile[verbatim,quote,texidoc,doctitle]
{snippets/preventing-extra-naturals-from-being-automatically-added.ly}

@morerefs
Glossar:
@rglos{sharp},
@rglos{flat},
@rglos{double sharp},
@rglos{double flat},
@rglos{Pitch names},
@rglos{quarter tone}.

Handbuch zum Lernen:
@rlearning{Tonhöhen und Tonartbezeichnungen (Vorzeichen)}.

Notationsreferenz:
@ref{Automatische Versetzungszeichen},
@ref{Vorgeschlagene Versetzungszeichen (musica ficta)},
@ref{Notenbezeichnungen in anderen Sprachen}.

Schnipsel:
@rlsr{Pitches}.

Referenz der Interna:
@rinternals{Accidental_engraver},
@rinternals{Accidental},
@rinternals{AccidentalCautionary},
@rinternals{accidental-interface}.


@cindex Versetzungszeichen, Viertelton
@cindex Vierteltonversetzungszeichen

@knownissues

Es gibt keine allgemeinen Regeln für die Notation von
Vierteltönen, die Symbole von LilyPond folgen also
keinem Standard.


@node Notenbezeichnungen in anderen Sprachen
@unnumberedsubsubsec Notenbezeichnungen in anderen Sprachen
@translationof Note names in other languages

@cindex Notenbezeichungen, andere Sprachen
@cindex Tonhöhenbezeichnungen, andere Sprachen
@cindex Sprache, Tonhöhenbezeichnungn in anderer

Es gibt vordefinierte Bezeichnungen für die Notenbezeichnungen in anderen
Sprachen als Englisch. Die Sprache für die Notenbezeichnungen wird normalerweise
zu Beginn einer Datei ausgewählt: das folgende Beispiel zeigt die Verwendung
von italienischen Notenbezeichnungen:

@lilypond[quote,verbatim]
\language "italiano"

\relative {
  do' re mi sib
}
@end lilypond

In der Tabelle sind die existierenden Sprachdefinitionen
mit den dazugehörigen Notenbezeichnungen dargestellt.

@quotation
@multitable {@w{@code{português} oder}} {@code{do} @code{re}/@code{re} @code{mi} @code{fa} @code{sol} @code{la} @code{sib} @code{si}}
@headitem Sprache
  @tab Notenbezeichnungen
@item @code{nederlands}
  @tab @code{c} @code{d} @code{e} @code{f} @code{g} @code{a} @code{bes} @code{b}
@item @code{català} oder@*@ @code{catalan}
  @tab @code{do} @code{re} @code{mi} @code{fa} @code{sol} @code{la} @code{sib} @code{si}
@item @code{deutsch}
  @tab @code{c} @code{d} @code{e} @code{f} @code{g} @code{a} @code{b} @code{h}
@item @code{english}
  @tab @code{c} @code{d} @code{e} @code{f} @code{g} @code{a} @code{bf}/@code{b-flat} @code{b}
@item @code{español} oder@*@ @code{espanol}
  @tab @code{do} @code{re} @code{mi} @code{fa} @code{sol} @code{la} @code{sib} @code{si}
@item @code{français}
  @tab @code{do} @code{ré}/@code{re} @code{mi} @code{fa} @code{sol} @code{la} @code{sib} @code{si}
@item @code{italiano}
  @tab @code{do} @code{re} @code{mi} @code{fa} @code{sol} @code{la} @code{sib} @code{si}
@item @code{norsk}
  @tab @code{c} @code{d} @code{e} @code{f} @code{g} @code{a} @code{b} @code{h}
@item @code{português} oder@*@ @code{portugues}
  @tab @code{do} @code{re} @code{mi} @code{fa} @code{sol} @code{la} @code{sib} @code{si}
@item @code{suomi}
  @tab @code{c} @code{d} @code{e} @code{f} @code{g} @code{a} @code{b} @code{h}
@item @code{svenska}
  @tab @code{c} @code{d} @code{e} @code{f} @code{g} @code{a} @code{b} @code{h}
@item @code{vlaams}
  @tab @code{do} @code{re} @code{mi} @code{fa} @code{sol} @code{la} @code{sib} @code{si}
@end multitable
@end quotation

@noindent
und die dazugehörigen Versetzungszeichen-Endungen:

@quotation
@multitable {@w{@code{português} oder}} {@code{s}/@code{-sharp}} {@code{f}/@code{-flat}} {@code{ss}/@code{x}/@code{-sharpsharp}} {@code{ff}/@code{-flatflat}}
@headitem Sprache
  @tab Kreuz @tab B @tab Doppelkreuz @tab Doppel-B
@item @code{nederlands}
  @tab @code{is} @tab @code{es} @tab @code{isis} @tab @code{eses}
@item @code{català} oder@*@ @code{catalan}
  @tab @code{d}/@code{s} @tab @code{b} @tab @code{dd}/@code{ss}
    @tab @code{bb}
@item @code{deutsch}
  @tab @code{is} @tab @code{es} @tab @code{isis} @tab @code{eses}
@item @code{english}
  @tab @code{s}/@code{-sharp} @tab @code{f}/@code{-flat}
    @tab @code{ss}/@code{x}/@code{-sharpsharp}
    @tab @code{ff}/@code{-flatflat}
@item @code{español} oder@*@ @code{espanol}
  @tab @code{s} @tab @code{b} @tab @code{ss}/@code{x} @tab @code{bb}
@item @code{français}
  @tab @code{d} @tab @code{b} @tab @code{dd}/@code{x} @tab @code{bb}
@item @code{italiano}
  @tab @code{d} @tab @code{b} @tab @code{dd} @tab @code{bb}
@item @code{norsk}
  @tab @code{iss}/@code{is} @tab @code{ess}/@code{es}
    @tab @code{ississ}/@code{isis} @tab @code{essess}/@code{eses}
@item @code{português} oder@*@ @code{portugues}
  @tab @code{s} @tab @code{b} @tab @code{ss} @tab @code{bb}
@item @code{suomi}
  @tab @code{is} @tab @code{es} @tab @code{isis} @tab @code{eses}
@item @code{svenska}
  @tab @code{iss} @tab @code{ess} @tab @code{ississ} @tab @code{essess}
@item @code{vlaams}
  @tab @code{k} @tab @code{b} @tab @code{kk} @tab @code{bb}
@end multitable
@end quotation

Auf Holländisch, Deutsch, Norwegisch und Schwedisch (u. a.) wird die
Erniedrigungen von @q{a} -- @code{aes} -- zu @code{as} zusammengezogen.
Beide Formen werden jedoch akzeptiert.  Genauso gelten auch
@code{es} und @code{ees}.  Das gilt auch für
@code{aeses}@tie{}/@tie{}@code{ases} und
@code{eeses}@tie{}/@tie{}@code{eses}.
In manchen Sprachen sind nur diese Kurzformen definiert.

@lilypond[verbatim,quote,fragment]
\relative c'' { a2 as e es a ases e eses }
@end lilypond


@cindex Mikrotöne
@cindex Halbkreuz
@cindex Halb-B
@cindex sesqui-Kreuz
@cindex sesqui-B

Bestimmte Musik verwendet Alterationen, die Bruchteile von den
@qq{normalen} Kreuzen oder Bs sind. Die Notenbezeichnungen für
Vierteltöne für die verschiedenen Sprachen sind in der folgenden
Tabelle aufgeführt. Die Präfixe @notation{semi-} und @notation{sesqui-} bedeuten
@qq{halb} bzw. @qq{eineinhalb}.

@quotation
@multitable {@w{@code{português} oder}} {@b{Vierteltonkreuz}} {@b{Viertelton-B}} {@b{3/4-Tonkreuz}} {@b{3/4-Ton-B}}
@headitem Sprache
  @tab Vierteltonkreuz @tab Viertelton-B @tab 3/4-Tonkreuz @tab 3/4-Ton-B
@item @code{nederlands}
  @tab @code{ih} @tab @code{eh} @tab @code{isih} @tab @code{eseh}
@item @code{català} oder@*@ @code{catalan}
  @tab @code{qd}/@code{qs} @tab @code{qb} @tab @code{tqd}/@code{tqs}
   @tab @code{tqb}
@item @code{deutsch}
  @tab @code{ih} @tab @code{eh} @tab @code{isih} @tab @code{eseh}
@item @code{english}
  @tab @code{qs} @tab @code{qf} @tab @code{tqs} @tab @code{tqf}
@item @code{español} oder@*@ @code{espanol}
  @tab @code{cs} @tab @code{cb} @tab @code{tcs} @tab @code{tcb}
@item @code{français}
  @tab @code{sd} @tab @code{sb} @tab @code{dsd} @tab @code{bsb}
@item @code{italiano}
  @tab @code{sd} @tab @code{sb} @tab @code{dsd} @tab @code{bsb}
@item @code{norsk}
  @tab @code{ih} @tab @code{eh} @tab @code{issih}/@code{isih}
   @tab @code{esseh}/@code{eseh}
@item @code{português} oder@*@ @code{portugues}
  @tab @code{sqt} @tab @code{bqt} @tab @code{stqt} @tab @code{btqt}
@item @code{suomi}
  @tab @code{ih} @tab @code{eh} @tab @code{isih} @tab @code{eseh}
@item @code{svenska}
  @tab @code{ih} @tab @code{eh} @tab @code{issih} @tab @code{esseh}
@item @code{vlaams}
  @tab @code{hk} @tab @code{hb} @tab @code{khk} @tab @code{bhb}
@end multitable
@end quotation

Die meisten Sprachen, die hier vorkommen, werden normalerweise mit der
klassischen westlichen Musik assoziiert.  Alternative Tonhöhen und
Stimmungen sind aber auch unterstützt: siehe
@ref{Übliche Notation für nichteuropäische Musik}


@morerefs
Glossar:
@rglos{Pitch names},
@rglos{Common Practice Period}.

Notationsreferenz:
@ref{Übliche Notation für nichteuropäische Musik}.

Installierte Dateien:
@file{scm/define-note-names.scm}.

Schnipsel:
@rlsr{Pitches}.


@node Viele Tonhöhen gleichzeitig verändern
@subsection Viele Tonhöhen gleichzeitig verändern
@translationof Changing multiple pitches

Dieser Abschnitt zeigt, wie man Tonhöhen beeinflusst.

@menu
* Oktavenüberprüfung::
* Transponieren::
* Umkehrung::
* Krebs::
* Modale Transformierungen::
@end menu

@node Oktavenüberprüfung
@unnumberedsubsubsec Oktavenüberprüfung
@translationof Octave checks

@cindex Oktavenüberprüfung
@cindex Oktavierungskorrektur
@cindex Kontroll-Tonhöhe

@funindex =
@funindex \octaveCheck
@funindex controlpitch

Im relativen Modus geschieht es recht häufig, dass ein
Oktavänderungszeichen vergessen wird. Oktavenüberprüfungen
machen es einfacher, solche Fehler zu entdecken und zu
korrigieren. Sie geben eine Warnung aus und korrigieren
die Oktave, wenn eine Note in einer unerwarteten Oktave
gefunden wird.

Um die Oktave einer Note zu überprüfen, muss die absolute
Oktave nach dem @code{=}-Symbol angegeben werden.  Im
folgenden Beispiel wird eine Warnung (und eine Tonhöhenänderung)
generiert, weil die zweite Note als absolute Oktave
ein @code{d''} anstelle von @code{d'} notiert ist,
wie es die Oktavierungskorrektur markiert.

@lilypond[verbatim,quote]
\relative {
  c''2 d='4 d
  e2 f
}
@end lilypond

Die Oktave von einer Note kann auch mit dem
@code{\octaveCheck}@tie{}@var{Kontrolltonhöhe}-Befehl
überprüft werden.  @var{Kontrollhöhe} wird im absoluten
Modus eingegeben.  Dabei wird überprüft, ob das
Intervall zwischen der vorherigen Note und der
@var{Kontrolltonhöhe} nicht größer als eine Quarte ist
(die normale Berechnung im relativen Modus).  Wenn diese
Überprüfung einen Fehler ausgibt, wird eine Warnung
gemeldet, aber die vorigen Note wird nicht verändert.
Folgende Noten sind dann relativ zur @var{Kontrolltonhöhe}.

@lilypond[verbatim,quote]
\relative {
  c''2 d
  \octaveCheck c'
  e2 f
}
@end lilypond

Vergleichen Sie die zwei Takte im nächsten Beispiel.  Die
erste und dritte @code{\octaveCheck}-Überprüfung gibt
einen Fehler aus, die zweite dagegen ist erfolgreich:

@lilypond[verbatim,quote]
\relative {
  c''4 f g f

  c4
  \octaveCheck c'
  f
  \octaveCheck c'
  g
  \octaveCheck c'
  f
}
@end lilypond

@morerefs
Schnipsel:
@rlsr{Pitches}.

Referenz der Interna:
@rinternals{RelativeOctaveCheck}.


@node Transponieren
@unnumberedsubsubsec Transponieren
@translationof Transpose

@cindex Transposition
@cindex Transponieren
@cindex Noten, transponieren
@cindex Tonhöhen, transponieren

@funindex \transpose

Ein musikalischer Ausdruck kann mit dem Befehl @code{\transpose}
transponiert werden. Die Syntax lautet:

@example
\transpose @var{vonTonhöhe} @var{nachTonhöhe} @var{mus. Ausdruck}
@end example

@noindent
Das bedeutet, dass der @var{mus. Ausdruck} um das Intervall zwischen den
Tonhöhen @var{vonTonhöhe} und @var{nachTonhöhe} transponiert wird: Jede Note, die die
Tonhöhe @var{vonTonhöhe} hat, wird in die Tonhöhe @var{nachTonhöhe} umgewandelt, und alle anderen
Noten um das gleiche Intervall.  Beide Tonhöhen
werden im absoluten Modus eingegeben.

@warning{Tonhöhen innerhalb einer @code{@bs{}transpose}-Umgebung
sind absolut, es sei denn, ein @code{@bs{}relative} wird
eingefügt.}

So kann z. B. ein Stück in D-Dur, wenn es für den Sänger etwas zu
tief ist, nach E-Dur transponiert werden.  Dabei
werden auch die Vorzeichen entsprechend angepasst:

@lilypond[verbatim,quote]
\transpose d e {
  \relative {
    \key d \major
    d'4 fis a d
  }
}
@end lilypond

@cindex transponierende Instrumente
@cindex Instrumente, transponierende

Wenn eine Stimme, die in C notiert ist, von einer A-Klarinette
gespielt werden soll (für die A als C notiert wird,
aber eine kleine Terz tiefer erklingt als es notiert
ist), kann die entsprechende Stimme wie folgt erstellt
werden:

@lilypond[verbatim,quote]
\transpose a c' {
  \relative {
    \key c \major
    c'4 d e g
  }
}
@end lilypond

@noindent
Beachten Sie, dass @w{@code{\key c \major}} explizit
angegeben werden muss.  Wenn hier keine Tonart angemerkt
würde, würde die Noten zwar transponiert, aber keine
Vorzeichen angezeigt werden.

@code{\transpose} unterscheidet enharmonische Verwechslungen: sowohl
@w{@code{\transpose c cis}} als auch @w{@code{\transpose c des}} transponieren
die Musik einen Halbton nach oben.  Aber die erste Version gibt als
Versetzungszeichen Kreuze aus, die zweite dagegen B-Versetzungszeichen.

@lilypond[verbatim,quote]
music = \relative { c' d e f }
\new Staff {
  \transpose c cis { \music }
  \transpose c des { \music }
}
@end lilypond

@code{\transpose} kann auch benutzt werden, um die geschriebenen
Noten eines transponierenden Instruments zu notieren. Im vorigen Beispiel wurde die Tonhöhen so eingegeben,
wie sie erklingen (also in C), aber man kann genauso
gut auch andersherum aus einer Stimme, die für ein
transponierendes Instrument in einem anderen Ton als
C geschrieben wurde, eine Partitur in C erstellen.
Die Noten einer B-Trompete, die mit einem notierten E
(also einem klingenden D) anfangen, könnte man also
auch so eingeben:

@example
musicInBflat = @{ e4 @dots{} @}
\transpose c bes, \musicInBflat
@end example

@noindent
Um die Noten dann in F zu setzen (um sie etwa für ein
Horn zu arrangieren), könnte man die schon geschriebenen
Noten wieder mit einem weiteren @code{\transpose} umgeben:

@example
musicInBflat = @{ e4 @dots{} @}
\transpose f c' @{ \transpose c bes, \musicInBflat @}
@end example

@noindent
Für mehr Information zu transponierenden Instrumenten
siehe auch @ref{Transposition von Instrumenten}.

@snippets

@lilypondfile[verbatim,quote,texidoc,doctitle]
{snippets/transposing-pitches-with-minimum-accidentals-smart-transpose.ly}

@morerefs
Notationsreferenz:
@ref{Relative Oktavenbezeichnung},
@ref{Transposition von Instrumenten},
@ref{Umkehrung},
@ref{Krebs},
@ref{Modale Transformierungen}.

Schnipsel:
@rlsr{Pitches}.

Referenz der Interna:
@rinternals{TransposedMusic}.

@funindex \transpose
@funindex \chordmode
@funindex \relative
@funindex transpose
@funindex chordmode
@funindex relative

@knownissues

Der relative Modus wirkt nicht in @code{\transpose},
@code{\chordmode} oder @code{\relative}.
Um auch im relativen Modus transponieren
zu können, muss ein @code{\relative} innerhalb des
@code{\transpose} zusätzlich gesetzt werden.

Dreifache Versetzungszeichen werden nicht ausgegeben, wenn
@code{\transpose} benutzt wird.  Eine enharmonisch
entsprechende Tonhöhe wird anstatt dessen gesetzt (z. B.
Des anstelle von e-dreifach-b).


@node Umkehrung
@unnumberedsubsubsec Umkehrung
@translationof Inversion

@cindex Umkehrung
@cindex Melodietransformation, Umkehrung

@funindex \inversion

Ein musikalischer Ausdruck kann in seine Umkehrung transformiert und
gleichzeitig transponiert werden:

@example
\inversion @var{umTonhöhe} @var{nachTonhöhe} @var{mus. Ausdruck}
@end example

Der @code{@var{mus. Ausdruck}} wird Intervall für Intervall um
@code{v@var{UmTonhöhe}} umgekehrt und dann von @code{v@var{UmTonhöhe}}
nach @code{@var{nachTonhöhe}} transponiert.

@lilypond[verbatim,quote]
music = \relative { c' d e f }
\new Staff {
  \music
  \inversion d' d' \music
  \inversion d' ees' \music
}
@end lilypond

@warning{Motive, die umgekehrt werden, sollen in absoluten Tonhöhen
notiert werden oder zuerst in absolute Tonhöhen umgewandelt werden,
indem sie in eine @code{@bs{}relative}-Umgebung eingeschlossen werden.}

@morerefs
Notationsreferenz:
@ref{Modale Transformierungen},
@ref{Krebs},
@ref{Transponieren}.


@node Krebs
@unnumberedsubsubsec Krebs
@translationof Retrograde

@cindex Krebs
@cindex Melodietransformation, Krebs

@funindex \retrograde

Ein musikalischer Ausdruck kann umgekehrt werden, um im Krebsgang dargestellt
zu werden:

@lilypond[verbatim,quote]
music = \relative { c'8. ees16( fis8. a16 b8.) gis16 f8. d16 }

\new Staff {
  \music
  \retrograde \music
}
@end lilypond

@knownissues
Manuell gesetzte Bindebögen innerhalb des Krebsgangs @code{\retrograde} werden
aufgebrochen und erzeugen Warnungen.  Einige Bindebögen können automatisch
ersetllt werden, indem man @ref{Automatic note splitting} aktiviert.

@morerefs
Notationsreferenz:
@ref{Modale Transformierungen},
@ref{Umkehrung},
@ref{Transponieren}.



@node Modale Transformierungen
@unnumberedsubsubsec Modale Transformierungen
@translationof Modal transformations

@cindex modale Transformationen
@cindex Transformationen, modal
@cindex Melodietransformationen, modal

In einer Komposition, die auf einer Skala basiert, wird ein Motiv oft in
unterschiedlicher Weise transformiert.  Es kann transponiert werden, um
von einer anderen Tonhöhe in der Skala zu beginnen, oder beginnend von einer
bestimmten Tonhöhe der Skala umgekehrt werden.  Es kann auch im Krebsgang,
also rückwärts erscheinen, siehe @ref{Krebs}.

@warning{Alle Noten, die nicht zu der vorgegebenen Skala gehören, werden
nicht transformiert.}

@subsubheading Modale Transposition

@cindex modale Transposition
@cindex Transposition, modal
@cindex Melodietransposition, modal

@funindex \modalTranspose

Ein Motiv kann innerhalb einer Skala transponiert werden:

@example
\modalTranspose @var{vonTonhöhe} @var{nachTonhöhe} @var{Skala} @var{mus. Ausdruck}
@end example

Die Noten von @code{@var{mus. Ausdruck}} werden innerhalb von @code{@var{Skala}}
um die Anzahl von Skalenstufen transponiert, die dem Intervall zwischen
@code{@var{vonTonhöhe}} und @code{@var{nachTonhöhe}} entspricht.

@lilypond[verbatim,quote]
diatonicScale = \relative { c' d e f g a b }
motif = \relative { c'8 d e f g a b c }

\new Staff {
  \motif
  \modalTranspose c f \diatonicScale \motif
  \modalTranspose c b, \diatonicScale \motif
}
@end lilypond

Eine absteigende Skala beliebiger Länge und mit beliebigen Intervallen kann
definiert werden:

@lilypond[verbatim,quote]
pentatonicScale = \relative { ges aes bes des ees }
motif = \relative { ees'8 des ges,4 <ges' bes,> <ges bes,> }

\new Staff {
  \motif
  \modalTranspose ges ees' \pentatonicScale \motif
}
@end lilypond

Wenn @code{\modalTranspose} mit einer chromatischen Skala benutzt wird,
entspricht es der Funktion von @code{\transpose} mit dem Unterschied,
dass die Bezeichnungen der eingesetzten Noten definiert werden können:

@lilypond[verbatim,quote]
chromaticScale = \relative { c' cis d dis e f fis g gis a ais b }
motif = \relative { c'8 d e f g a b c }

\new Staff {
  \motif
  \transpose c f \motif
  \modalTranspose c f \chromaticScale \motif
}
@end lilypond


@subsubheading Modale Umkehrung

@cindex modale Umkehrung
@cindex Umkehrung, modal
@cindex Melodieumkehrung, modal

@funindex \modalInversion

Ein musikalischer Ausdruck kann innerhalb einer definierten Skala um
eine Referenznote umgekehrt werden und transponiert werden:

@example
\modalInversion @var{Umkehrungstonhöhe} @var{nachTonhöhe} @var{Skala} @var{mus. Ausdruck}
@end example

Die Noten von @code{@var{mus. Ausdruck}} werden mit den gleichen Intervallabständen
voneinander gesetzt, ausgehend von @code{@var{Umkehrungstonhöhe}}, allerdings
in die entgegengesetzte Richtung.  Das Result wird dann innerhalb der
@code{@var{Skala}} um das Intervall transponiert, das sich aus dem
Unterschied von @code{@var{Umkehrungstonhöhe}} und @code{@var{nachTonhöhe}}
ergibt.

Um also einfach eeine Umkehrung ohne zusätzliche Transposition zu machen,
sollten @code{@var{Umkehrungstonhöhe}} und @code{@var{nachTonhöhe}} gleich
sein.

@lilypond[verbatim,quote]
octatonicScale = \relative { ees' f fis gis a b c d }
motif = \relative { c'8. ees16 fis8. a16 b8. gis16 f8. d16 }

\new Staff {
  \motif
  \modalInversion fis' fis' \octatonicScale \motif
}
@end lilypond

Um den Drehpunkt der Umkehrung zwischen zwei Noten der Skala zu definieren,
wird um eine der Noten die Umkehrung vorgenommen und dann eine Skalenstufe
transponiert.  Die beiden Noten klammern sozusagen den Drehpunkt ein.

@lilypond[verbatim,quote]
scale = \relative { c' g' }
motive = \relative { c' c g' c, }

\new Staff {
  \motive
  \modalInversion c' g' \scale \motive
}
@end lilypond

Die kombinierte Operation von Umkehrung und Krebs erzeugt die
Krebsumkehrung:

@lilypond[verbatim,quote]
octatonicScale = \relative { ees' f fis gis a b c d }
motif = \relative { c'8. ees16 fis8. a16 b8. gis16 f8. d16 }

\new Staff {
  \motif
  \retrograde \modalInversion c' c' \octatonicScale \motif
}
@end lilypond

@morerefs
Notationsreferenz:
@ref{Umkehrung},
@ref{Krebs},
@ref{Transponieren}.


@node Tonhöhen anzeigen lassen
@subsection Tonhöhen anzeigen lassen
@translationof Displaying pitches

Dieser Abschnitt zeigt, wie die Ausgabe von Tonhöhen
verändern werden kann.

@menu
* Notenschlüssel::
* Tonartbezeichnung::
* Oktavierungsklammern::
* Transposition von Instrumenten::
* Automatische Versetzungszeichen::
* Tonumfang::
@end menu

@node Notenschlüssel
@unnumberedsubsubsec Notenschlüssel
@translationof Clef

@cindex G-Schlüssel
@cindex C-Schlüssel
@cindex F-Schlüssel
@cindex Sopranschlüssel
@cindex Violinschlüssel
@cindex Altschlüssel
@cindex Bratschenschlüssel
@cindex Tenorschlüssel
@cindex Bassschlüssel
@cindex Französischer Violinschlüssel
@cindex Mezzosopranschlüssel
@cindex Sopranschlüssel in C
@cindex Baritonschlüssel
@cindex Subbassschlüssel
@cindex Schlüssel
@cindex Notenschlüssel
@cindex Alte Schlüssel
@cindex Schlüssel Alter Musik
@cindex Schlüssel, C
@cindex Schlüssel, G
@cindex Schlüssel, F

@funindex \clef

Der Schlüssel kann verändert werden. Das eingestrichene
C wird in jedem Beispiel gezeigt:

@lilypond[verbatim,quote,fragment]
\clef treble
c'2 c'
\clef alto
c'2 c'
\clef tenor
c'2 c'
\clef bass
c'2 c'
@end lilypond

Andere Schlüssel sind u. A.:

@lilypond[verbatim,quote,relative=1]
\clef french
c2 c
\clef soprano
c2 c
\clef mezzosoprano
c2 c
\clef baritone
c2 c

\break

\clef varbaritone
c2 c
\clef subbass
c2 c
\clef percussion
c2 c

\break

\clef G   % synonym for treble
c2 c
\clef F   % synonym for bass
c2 c
\clef C   % synonym for alto
c2 c
@end lilypond

@cindex transponierende Schlüssel
@cindex Schlüssel, transponierend
@cindex Oktavtransposition
@cindex Chor-Tenorschlüssel
@cindex Tenorschlüssel, Chor

Indem @code{_8} oder @code{^8} an die jeweilige Schlüsselbezeichnung
angehängt wird, wird der Schlüssel um eine Oktave nach oben oder unten
transponiert, mit @code{_15} oder @code{^15} um zwei Oktaven.  Auch
andere Ganzzahlen können verwendet werden, wenn es gewünscht wird.
Die Schlüsselbezeichnung muss in Anführungszeichen gesetzt werden,
wenn nicht-alphabetische Zeichen enthält, siehe Beispiel:

@lilypond[verbatim,quote,fragment]
\clef treble
c'2 c'
\clef "treble_8"
c'2 c'
\clef "bass^15"
c'2 c'
\clef "alto_2"
c'2 c'
\clef "G_8"
c'2 c'
\clef "F^5"
c'2 c'
@end lilypond

Weitere unterstützte Schlüssel sind beschrieben in @ref{Mensurale Schlüssel},
@ref{Gregorianische Schlüssel}, @ref{Standardtabulaturen} und
@ref{Angepasste Tabulaturen}.  Zur Benutzung unterschiedlicher Schlüssel
bei Stichnoten siehe die Funktionen @code{\cueClef} und
@code{\cueDuringWithClef} in 


@snippets

@lilypondfile[verbatim,quote,texidoc,doctitle]
{snippets/tweaking-clef-properties.ly}

@morerefs
Notationsreferenz:
@ref{Mensurale Schlüssel},
@ref{Gregorianische Schlüssel},
@ref{Standardtabulaturen},
@ref{Angepasste Tabulaturen},
@ref{Stichnoten formatieren}.

Schnipsel:
@rlsr{Pitches}.

Referenz der Interna:
@rinternals{Clef_engraver},
@rinternals{Clef},
@rinternals{ClefModifier},
@rinternals{clef-interface}.


@node Tonartbezeichnung
@unnumberedsubsubsec Tonartbezeichnung
@translationof Key signature

@cindex Tonart
@cindex Vorzeichen

@funindex \key

@c duplicated in Key signature and Accidentals
@warning{Neue Benutzer sind manchmal verwirrt, wie
Versetzungszeichen und Vorzeichen/Tonarten funktionieren.
In LilyPond sind Notenbezeichnungen die wirkliche
Tonhöhe, erst durch Vorzeichen wird bestimmt, wie diese
Tonhöhe dann im Notenbild dargestellt wird. Eine
einfache Tonhöhe wie etwa@tie{}@code{c} bedeutet also
immer das eingestrichene C ohne Versetzungszeichen, egal
was für Vorzeichen/Tonart oder Schlüssel gesetzt sind.
Mehr Information dazu in @rlearning{Tonhöhen und Tonartbezeichnungen (Vorzeichen)}.}

Die Vorzeichen zeigen die Tonart an, in welcher ein Stück notiert ist.
Es handelt sich um eine Anzahl von Alterationszeichen (Kreuzen oder
Bs) am Beginn jedes Notensystems.

Die Tonart kann geändert werden:

@example
\key @var{Tonhöhe} @var{Modus}
@end example

@funindex \minor
@funindex \major
@funindex \minor
@funindex \ionian
@funindex \locrian
@funindex \aeolian
@funindex \mixolydian
@funindex \lydian
@funindex \phrygian
@funindex \dorian
@funindex minor
@funindex major
@funindex minor
@funindex ionian
@funindex locrian
@funindex aeolian
@funindex mixolydian
@funindex lydian
@funindex phrygian
@funindex dorian

@cindex Kirchentonarten
@cindex Modus
@cindex Dur
@cindex Moll
@cindex Ionisch
@cindex Lokrisch
@cindex Äolisch
@cindex Mixolydisch
@cindex Aeolisch
@cindex Dorisch
@cindex Lydisch
@cindex Phrygisch

@noindent
Der Wert @var{Modus} sollte entweder @code{\major} oder @code{\minor}
sein, um Moll oder Dur der @var{Tonhöhe} zu erhalten. Es können auch
Modusbezeichnungen für Kirchentonarten verwendet werden: @code{\ionian}
(Ionisch), @code{\locrian} (Lokrisch), @code{\aeolian} (Aeolisch),
@code{\mixolydian} (Mixolydisch), @code{\lydian} (Lydisch),
@code{\phrygian} (Phrygisch) und @code{\dorian} (Dorisch).

@lilypond[verbatim,quote,fragment]
\relative {
  \key g \major
  fis''1
  f
  fis
}
@end lilypond

@snippets

@lilypondfile[verbatim,quote,texidoc,doctitle]
{snippets/preventing-natural-signs-from-being-printed-when-the-key-signature-changes.ly}

@lilypondfile[verbatim,quote,texidoc,doctitle]
{snippets/non-traditional-key-signatures.ly}


@morerefs
Glossar:
@rglos{church mode},
@rglos{scordatura}.

Handbuch zum Lernen:
@rlearning{Tonhöhen und Tonartbezeichnungen (Vorzeichen)}.

Schnipsel:
@rlsr{Pitches}.

Referenz der Interna:
@rinternals{KeyChangeEvent},
@rinternals{Key_engraver},
@rinternals{Key_performer},
@rinternals{KeyCancellation},
@rinternals{KeySignature},
@rinternals{key-cancellation-interface},
@rinternals{key-signature-interface}.


@node Oktavierungsklammern
@unnumberedsubsubsec Oktavierungsklammern
@translationof Ottava brackets

@cindex ottava
@cindex 15ma
@cindex 8va
@cindex 8ve
@cindex Oktavierung

@funindex set-octavation
@funindex \ottava

@notation{Oktavierungsklammern} zeigen eine zusätzliche
Transposition von einer Oktave an:

@lilypond[verbatim,quote]
\relative a' {
  a2 b
  \ottava #-2
  a2 b
  \ottava #-1
  a2 b
  \ottava #0
  a2 b
  \ottava #1
  a2 b
  \ottava #2
  a2 b
}
@end lilypond

@snippets

@lilypondfile[verbatim,quote,texidoc,doctitle]
{snippets/changing-ottava-text.ly}


@morerefs
Glossar:
@rglos{octavation}.

Schnipsel:
@rlsr{Pitches}.

Referenz der Interna:
@rinternals{Ottava_spanner_engraver},
@rinternals{OttavaBracket},
@rinternals{ottava-bracket-interface}.


@node Transposition von Instrumenten
@unnumberedsubsubsec Transposition von Instrumenten
@translationof Instrument transpositions

@cindex Transposition, MIDI
@cindex Transposition, Instrumente
@cindex Transponierendes Instrument
@cindex MIDI
@cindex MIDI-Transposition

@funindex \transposition

Wenn man Noten setzt, die von transponierenden Instrumenten
gespielt werden, sind oft einige Stimmen auf einer
anderen Tonhöhe notiert als dem Kammerton.  In diesem
Fall muss die Tonart des transponierenden Instruments
gekennzeichnet werden, weil sonst die MIDI-Ausgabe
und Stichnoten in anderen Stimmen falsche Tonhöhen
produzieren.  Mehr Information zu Stichnoten in
@ref{Andere Stimmen zitieren}.

@example
\transposition @var{Tonhöhe}
@end example

Die Tonhöhe, die für @code{\transposition} benutzt
wird, muss mit dem wirklichen Ton übereinstimmen,
der erklingt, wenn das Instrument ein @code{c'}
in seiner Stimme spielt.  Die Tonhöhe wird im
absoluten Modus angegeben, ein Instrument also,
dass einen Ton höher erklingt als es notiert wird,
muss folgenden Befehl benutzen:
@w{@code{\transposition d'}}.  @code{\transposition}
sollte @emph{nur} dann benutzt werden, wenn sie nicht
@emph{nicht} in C notiert werden.

Hier einige Noten für Geige und B-Klarinette: die
Stimmen (Noten und Vorzeichen) sind so notiert, wie sie
in der Partitur erscheinen.  Die zwei Instrumente
spielen unisono.

@lilypond[verbatim,quote]
\new GrandStaff <<
  \new Staff = "violin" {
    \relative c'' {
      \set Staff.instrumentName = "Vln"
      \set Staff.midiInstrument = "violin"
      % not strictly necessary, but a good reminder
      \transposition c'

      \key c \major
      g4( c8) r c r c4
    }
  }
  \new Staff = "clarinet" {
    \relative c'' {
      \set Staff.instrumentName = \markup { Cl (B\flat) }
      \set Staff.midiInstrument = "clarinet"
      \transposition bes

      \key d \major
      a4( d8) r d r d4
    }
  }
>>
@end lilypond

Die @code{\transposition} kann während eines Stückes
geändert werden.  Ein Klarinettist zum Beispiel kann
zwischen B- und A-Klarinette wechseln.

@c KEEP LY
@lilypond[verbatim,quote]
\relative c'' {
  \set Staff.instrumentName = "Cl (A)"
  \key a \major
  \transposition a
  c d e f
  \textLengthOn
  <>^\markup { B-Klarinette benutzen }
  R1

  \key bes \major
  \transposition bes
  c2 g
}
@end lilypond


@morerefs
Glossar:
@rglos{concert pitch},
@rglos{transposing instrument}.

Notationsreferenz:
@ref{Andere Stimmen zitieren},
@ref{Transponieren}.

Schnipsel:
@rlsr{Pitches}.


@node Automatische Versetzungszeichen
@unnumberedsubsubsec Automatische Versetzungszeichen
@translationof Automatic accidentals

@cindex Akzidentien
@cindex Versetzungszeichen, Standard
@cindex Versetzungszeichenstil
@cindex Automatische Versetzungszeichen
@cindex Versetzungszeichen, automatisch
@cindex Standard-Versetzungszeichenstil

@funindex \accidentalStyle
@funindex voice
@funindex default

Es gibt viele unterschiedliche Regeln, wie Versetzungszeichen
notiert werden.  LilyPond hat eine Funktion, mit der
spezifiziert werden kann, welcher Stil benutzt werden
soll.  Diese Funktion kann man wie folgt benutzen:

@example
\new Staff <<
  \accidentalStyle voice
  @{ @dots{} @}
>>
@end example

Der Versetzungszeichenstil bezieht sich auf das aktuelle
Notensystem in der Standardeinstellung (eine Ausnahme
bilden die Stile @code{piano} und @code{piano-cautionary},
die weiter unten erklärt werden).  Die Funktion kann aber
auch ein zweites Argument erhalten, mit der spezifiziert
wird, auf welchen Bereich sich der neue Stil erstreckt.
Um etwa den neuen Stil in allen Systemen einer
Stimmgruppe (@code{StaffGroup}) zu benutzen, müsste der Befehl so aussehen:

@example
\accidentalStyle StaffGroup.voice
@end example

Folgende Versetzungszeichenstile sind unterstützt.
Um jeden Stil zu erklären, wird folgendes Beispiel
benützt:

@lilypond[verbatim,quote]
musicA = {
  <<
    \relative {
      cis''8 fis, bes'4 <a cis>8 f bis4 |
      cis2. <c, g'>4 |
    }
    \\
    \relative {
      ais'2 cis, |
      fis8 b a4 cis2 |
    }
  >>
}

musicB = {
  \clef bass
  \new Voice {
    \voiceTwo \relative {
      <fis a cis>8[ <fis a cis>
      \change Staff = up
      cis' cis
      \change Staff = down
      <fis, a> <fis a>]
      \showStaffSwitch
      \change Staff = up
      dis'4 |
      \change Staff = down
      <fis, a cis>4 gis <f a d>2 |
    }
  }
}

\new PianoStaff {
  <<
    \context Staff = "up" {
      \accidentalStyle default
      \musicA
    }
    \context Staff = "down" {
      \accidentalStyle default
      \musicB
    }
  >>
}
@end lilypond

Die letzten Zeilen des Beispiels könnten auch mit folgendem
Code ersetzt werden, solange der gleiche Versetzungszeichenstil
in beiden Systemen benutzt werden soll:

@example
\new PianoStaff @{
  <<
    \context Staff = "up" @{
      %%% nächste Zeile wie gewünscht ändern:
      \accidentalStyle Score.default
      \musicA
    @}
    \context Staff = "down" @{
      \musicB
    @}
  >>
@}
@end example


@c don't use verbatim in this table.
@table @code
@item default (Standard)

@cindex Standard-Versetzungszeichenstil
@cindex Versetzungszeichenstil, Standard

Das ist das Standardverhalten.  Es entspricht der
Konvention für Notation von Musik des 18. Jahrhunderts:
Versetzungszeichen werden bis zum Taktende erinnert, in
dem sie gesetzt wurden, und nur in ihrer eigenen
Oktave.  Im nächsten Beispiel wird also kein
Auslösungszeichen vor dem@tie{}@code{b} (H) im zweiten
Takt oder dem letzen@tie{}@code{c} gesetzt:

@lilypond[quote]
musicA = {
  <<
    \relative {
      cis''8 fis, bes'4 <a cis>8 f bis4 |
      cis2. <c, g'>4 |
    }
    \\
    \relative {
      ais'2 cis, |
      fis8 b a4 cis2 |
    }
  >>
}

musicB = {
  \clef bass
  \new Voice {
    \voiceTwo \relative {
      <fis a cis>8[ <fis a cis>
      \change Staff = up
      cis' cis
      \change Staff = down
      <fis, a> <fis a>]
      \showStaffSwitch
      \change Staff = up
      dis'4 |
      \change Staff = down
      <fis, a cis>4 gis <f a d>2 |
    }
  }
}

\new PianoStaff {
  <<
    \context Staff = "up" {
      \accidentalStyle default
      \musicA
    }
    \context Staff = "down" {
      \accidentalStyle default
      \musicB
    }
  >>
}
@end lilypond

@item voice (Stimme)

@cindex Versetzungszeichenstil, Stimme
@cindex Stimme-Versetzungszeichenstil
@cindex Voice-Versetzungszeichenstil
@cindex moderner Versetzungszeichenstil
@cindex Versetzungszeichenstil modern
@cindex Versetzungszeichenstil, modern-cautionary
@cindex modern-Warnung-Versetzungszeichenstil

@funindex voice

Das normale Verhalten ist es, die Versetzungszeichen
auf der Notensystemebene zu erinnern.  In diesem
Stil aber werden Versetzungszeichen individuell für
jede Stimme errechnet.  Abgesehen davon gelten die
Regeln des Standardstiles (@code{default}).

Das hat zur Folge, dass Versetzungszeichen von einer
Stimme in der anderen nicht aufgelöst werden, was oft
ein unerwünschtes Ergebnis ist: im folgenden Beispiel
kann man schwer sagen, ob das zweite @code{a} unalteriert
oder erhöht gespielt werden soll.  Die @code{voice}-Option
sollte also nur benutzt werden, wenn die Stimmen
separat von unterschiedlichen Musikern gelesen werden.
Wenn das System nur von einem Musiker benutzt wird
(etwa der Dirigent oder ein Klavierspieler), dann
sind die Stile @code{modern} oder @code{modern-cautionary}
besser.

@lilypond[quote]
musicA = {
  <<
    \relative {
      cis''8 fis, bes'4 <a cis>8 f bis4 |
      cis2. <c, g'>4 |
    }
    \\
    \relative {
      ais'2 cis, |
      fis8 b a4 cis2 |
    }
  >>
}

musicB = {
  \clef bass
  \new Voice {
    \voiceTwo \relative {
      <fis a cis>8[ <fis a cis>
      \change Staff = up
      cis' cis
      \change Staff = down
      <fis, a> <fis a>]
      \showStaffSwitch
      \change Staff = up
      dis'4 |
      \change Staff = down
      <fis, a cis>4 gis <f a d>2 |
    }
  }
}

\new PianoStaff {
  <<
    \context Staff = "up" {
      \accidentalStyle voice
      \musicA
    }
    \context Staff = "down" {
      \accidentalStyle voice
      \musicB
    }
  >>
}
@end lilypond

@item modern (Modern)

@cindex Versetzungszeichen, moderne Stile
@cindex Moderner Stil, Versetzungszeichen

@funindex modern

Dieser Stil orientiert sich an den üblichen Regeln für
das 20. Jahrhundert.  Hierbei werden einige zusätzliche
Auflösungszeichen ausgelassen, die traditionell für
ein Kreuz nach einem Doppelkreuz und ein b nach einem
Doppel-b gesetzt werden.  Die gleichen Versetzungszeichen
wie im Standardstil werden gesetzt, allerdings mit zwei
Zusätzen, die Uneindeutigkeiten verhindern sollen: nach
vorübergehenden Versetzungszeichen werden Auflösungszeichen
auch im folgenden Takt gesetzt (für Noten innerhalb der
selben Oktave) und im gleichen Takt für Noten in
unterschiedlichen Oktaven.  Daher kommen also die Auflösungszeichen
vor dem H und dem C im zweiten Takt des oberen Systems:

@lilypond[quote]
musicA = {
  <<
    \relative {
      cis''8 fis, bes'4 <a cis>8 f bis4 |
      cis2. <c, g'>4 |
    }
    \\
    \relative {
      ais'2 cis, |
      fis8 b a4 cis2 |
    }
  >>
}

musicB = {
  \clef bass
  \new Voice {
    \voiceTwo \relative {
      <fis a cis>8[ <fis a cis>
      \change Staff = up
      cis' cis
      \change Staff = down
      <fis, a> <fis a>]
      \showStaffSwitch
      \change Staff = up
      dis'4 |
      \change Staff = down
      <fis, a cis>4 gis <f a d>2 |
    }
  }
}

\new PianoStaff {
  <<
    \context Staff = "up" {
      \accidentalStyle modern
      \musicA
    }
    \context Staff = "down" {
      \accidentalStyle modern
      \musicB
    }
  >>
}
@end lilypond

@item modern-cautionary (Modern mit Warnungen)

@cindex Versetzungszeichen, moderner Stil mit Warnungen
@cindex moderner Versetzungszeichenstil
@cindex moderner Versetzungszeichenstil mit Warnungen

@funindex modern-cautionary

Dieser Stil ähnelt @code{modern}, aber die @qq{zusätzlichen}
Versetzungszeichen (die normalerweise nicht gesetzt werden)
werden als Warnungen gesetzt.  In der Standardeinstellung werden
sie in Klammern gesetzt, aber sie können auch in kleinerer
Größe gesetzt werden, wenn man die @code{cautionary-style}-Eigenschaft
von @code{AccidentalSuggestion} definiert.

@lilypond[quote]
musicA = {
  <<
    \relative {
      cis''8 fis, bes'4 <a cis>8 f bis4 |
      cis2. <c, g'>4 |
    }
    \\
    \relative {
      ais'2 cis, |
      fis8 b a4 cis2 |
    }
  >>
}

musicB = {
  \clef bass
  \new Voice {
    \voiceTwo \relative {
      <fis a cis>8[ <fis a cis>
      \change Staff = up
      cis' cis
      \change Staff = down
      <fis, a> <fis a>]
      \showStaffSwitch
      \change Staff = up
      dis'4 |
      \change Staff = down
      <fis, a cis>4 gis <f a d>2 |
    }
  }
}

\new PianoStaff {
  <<
    \context Staff = "up" {
      \accidentalStyle modern-cautionary
      \musicA
    }
    \context Staff = "down" {
      \accidentalStyle modern-cautionary
      \musicB
    }
  >>
}
@end lilypond

@item modern-voice (Modern für Stimmen)

@cindex Versetzungszeichenstil, modern
@cindex Versetzungszeichen pro Stimme
@cindex moderner Versetzungszeichenstil
@cindex moderne Versetzungszeichen
@cindex Stimmen, Versetzungszeichen für

@funindex modern-voice

Diese Regel wird für vielstimmige Noten benutzt, die sowohl von
unterschiedlichen Spielern für jede Stimme als auch von einem Spieler
für alle Stimmen benutzt.  Versetzungszeichen werden für jede
Stimme gesetzt, aber sie @emph{werden} über die Stimme hinweg
aufgelöst innerhalb des selben Notensystems.  Das @code{a} im letzten
Takt ist also aufgelöst, weil die vorigen Auflösung in einer anderen
Stimme stattgefunden hatte, und das @code{d} im unteren System ist
aufgelöst wegen eines Versetzungszeichens in einer anderen Stimme im
vorigen Takt:

@lilypond[quote]
musicA = {
  <<
    \relative {
      cis''8 fis, bes'4 <a cis>8 f bis4 |
      cis2. <c, g'>4 |
    }
    \\
    \relative {
      ais'2 cis, |
      fis8 b a4 cis2 |
    }
  >>
}

musicB = {
  \clef bass
  \new Voice {
    \voiceTwo \relative {
      <fis a cis>8[ <fis a cis>
      \change Staff = up
      cis' cis
      \change Staff = down
      <fis, a> <fis a>]
      \showStaffSwitch
      \change Staff = up
      dis'4 |
      \change Staff = down
      <fis, a cis>4 gis <f a d>2 |
    }
  }
}

\new PianoStaff {
  <<
    \context Staff = "up" {
      \accidentalStyle modern-voice
      \musicA
    }
    \context Staff = "down" {
      \accidentalStyle modern-voice
      \musicB
    }
  >>
}
@end lilypond

@cindex Versetzungszeichenstil, modern mit Warnung für Stimmen
@cindex Stimmen, Versetzungszeichenstil mit Warnung für Stimmen
@cindex moderner Versetzungszeichenstil mit Warnungen für Stimmen

@funindex modern-voice-cautionary

@item modern-voice-cautionary (modern mit Warnungen für einzelne Stimmen)

Dieser Stil ist der gleiche wie @code{modern-voice}, nur dass hier
die zusätzlichen Versetzungszeichen (die nicht vom @code{voice}-Stil
gesetzt werden) als Warnungsversetzungszeichen gesetzt werden.
Obwohl alle Versetzungszeichen, die mit @code{default} gesetzt werden,
auch mit diesem Stil gesetzt werden, sind manche Warnungsversetzungszeichen.

@lilypond[quote]
musicA = {
  <<
    \relative {
      cis''8 fis, bes'4 <a cis>8 f bis4 |
      cis2. <c, g'>4 |
    }
    \\
    \relative {
      ais'2 cis, |
      fis8 b a4 cis2 |
    }
  >>
}

musicB = {
  \clef bass
  \new Voice {
    \voiceTwo \relative {
      <fis a cis>8[ <fis a cis>
      \change Staff = up
      cis' cis
      \change Staff = down
      <fis, a> <fis a>]
      \showStaffSwitch
      \change Staff = up
      dis'4 |
      \change Staff = down
      <fis, a cis>4 gis <f a d>2 |
    }
  }
}

\new PianoStaff {
  <<
    \context Staff = "up" {
      \accidentalStyle modern-voice-cautionary
      \musicA
    }
    \context Staff = "down" {
      \accidentalStyle modern-voice-cautionary
      \musicB
    }
  >>
}
@end lilypond

@item piano (Klavier)

@cindex Versetzungszeichenstil, piano
@cindex Versetzungszeichen für Klavier
@cindex Klavier-Versetzungszeichenstil
@cindex Piano-Versetzungszeichenstil

@funindex piano

Dieser Stil orientiert sich an den Regeln im 20. Jahrhundert für die
Notation von Klaviermusik.  Er ist sehr ähnlich mit dem modernen
Stil, aber Versetzungszeichen werden auch über Notensysteme hinweg
für die selbe Akkolade (@code{GrandStaff} oder @code{PianoStaff}) aufgelöst.

Dieser Versetzungszeichenstil wirkt sich standardmäßig auf die gesamte
Akkolade (@code{GrandStaff} oder @code{PianoStaff}) aus.

@lilypond[quote]
musicA = {
  <<
    \relative {
      cis''8 fis, bes'4 <a cis>8 f bis4 |
      cis2. <c, g'>4 |
    }
    \\
    \relative {
      ais'2 cis, |
      fis8 b a4 cis2 |
    }
  >>
}

musicB = {
  \clef bass
  \new Voice {
    \voiceTwo \relative {
      <fis a cis>8[ <fis a cis>
      \change Staff = up
      cis' cis
      \change Staff = down
      <fis, a> <fis a>]
      \showStaffSwitch
      \change Staff = up
      dis'4 |
      \change Staff = down
      <fis, a cis>4 gis <f a d>2 |
    }
  }
}

\new PianoStaff {
  <<
    \context Staff = "up" {
      \accidentalStyle piano
      \musicA
    }
    \context Staff = "down" {
      \musicB
    }
  >>
}
@end lilypond

@item piano-cautionary (Klavier mit Warnungen)

@funindex piano-cautionary

@cindex Versetzungszeichen, piano cautionary
@cindex Warnungsversetzungszeichen für Klavier
@cindex Klavier: Warnungsversetzungszeichen
@cindex Versetzungszeichenstil Klavier mit Warnungen

Dieser Stil verhält sich wie @code{piano}, aber die zusätzlichen
Versetzungszeichen werden als Warnungen ausgegeben:

@lilypond[quote]
musicA = {
  <<
    \relative {
      cis''8 fis, bes'4 <a cis>8 f bis4 |
      cis2. <c, g'>4 |
    }
    \\
    \relative {
      ais'2 cis, |
      fis8 b a4 cis2 |
    }
  >>
}

musicB = {
  \clef bass
  \new Voice {
    \voiceTwo \relative {
      <fis a cis>8[ <fis a cis>
      \change Staff = up
      cis' cis
      \change Staff = down
      <fis, a> <fis a>]
      \showStaffSwitch
      \change Staff = up
      dis'4 |
      \change Staff = down
      <fis, a cis>4 gis <f a d>2 |
    }
  }
}

\new PianoStaff {
  <<
    \context Staff = "up" {
      \accidentalStyle piano-cautionary
      \musicA
    }
    \context Staff = "down" {
      \musicB
    }
  >>
}
@end lilypond


@item neo-modern

@funindex neo-modern

@cindex neo-moderner Versetzungszeichenstil
@cindex Versetzungszeichenstil, neo-modern

Dieser Stil richtet sich nach den Regeln für moderne Musik:
Versetzungszeichen werden mit im @code{modern}-Stil gesetzt, aber
sie werden nochmal gesetzt, wenn die gleiche Note später im selben
Takt auftritt -- außer die Note wird unmittelbar wiederholt.

@lilypond[quote]
musicA = {
  <<
    \relative {
      cis''8 fis, bes'4 <a cis>8 f bis4 |
      cis2. <c, g'>4 |
    }
    \\
    \relative {
      ais'2 cis, |
      fis8 b a4 cis2 |
    }
  >>
}

musicB = {
  \clef bass
  \new Voice {
    \voiceTwo \relative {
      <fis a cis>8[ <fis a cis>
      \change Staff = up
      cis' cis
      \change Staff = down
      <fis, a> <fis a>]
      \showStaffSwitch
      \change Staff = up
      dis'4 |
      \change Staff = down
      <fis, a cis>4 gis <f a d>2 |
    }
  }
}

\new PianoStaff {
  <<
    \context Staff = "up" {
      \accidentalStyle neo-modern
      \musicA
    }
    \context Staff = "down" {
      \accidentalStyle neo-modern
      \musicB
    }
  >>
}
@end lilypond

@item neo-modern-cautionary (neo-modern mit Warnungen)

@funindex neo-modern-cautionary

@cindex neo-modern-cautionary-Versetzungszeichenstil
@cindex Versetzungszeichenstil neo-modern mit Warnungen
@cindex Warnungsversetzungszeichen, neo-modern

Dieser Stil ähnelt @code{neo-modern}, aber die zusätzlichen
Versetzungszeichen werden als Warnungen gesetzt.

@lilypond[quote]
musicA = {
  <<
    \relative {
      cis''8 fis, bes'4 <a cis>8 f bis4 |
      cis2. <c, g'>4 |
    }
    \\
    \relative {
      ais'2 cis, |
      fis8 b a4 cis2 |
    }
  >>
}

musicB = {
  \clef bass
  \new Voice {
    \voiceTwo \relative {
      <fis a cis>8[ <fis a cis>
      \change Staff = up
      cis' cis
      \change Staff = down
      <fis, a> <fis a>]
      \showStaffSwitch
      \change Staff = up
      dis'4 |
      \change Staff = down
      <fis, a cis>4 gis <f a d>2 |
    }
  }
}

\new PianoStaff {
  <<
    \context Staff = "up" {
      \accidentalStyle neo-modern-cautionary
      \musicA
    }
    \context Staff = "down" {
      \accidentalStyle neo-modern-cautionary
      \musicB
    }
  >>
}
@end lilypond


@item neo-modern-voice (neo-modern für Stimmen)

@funindex neo-modern-voice

@cindex neo-moderner Versetzungszeichenstil pro Stimme
@cindex Versetzungszeichenstil, neo-modern-voice

Diese Regel wird für für Versetzungszeichen in mehreren Stimmen
eingesetzt, wenn die Noten sowohl von Musikern gelesen werden, die
nur eine Stimme lesen, als auch von Musikern, die alle Stimmen
lesen.  Versetzungszeichen werden für jede Stimme so wie mit der
@code{neo-modern}-Regel gesetzt, aber innerhalb des gesamten
Notensystems mit Auflösungszeichen versehen.

@lilypond[quote]
musicA = {
  <<
    \relative {
      cis''8 fis, bes'4 <a cis>8 f bis4 |
      cis2. <c, g'>4 |
    }
    \\
    \relative {
      ais'2 cis, |
      fis8 b a4 cis2 |
    }
  >>
}

musicB = {
  \clef bass
  \new Voice {
    \voiceTwo \relative {
      <fis a cis>8[ <fis a cis>
      \change Staff = up
      cis' cis
      \change Staff = down
      <fis, a> <fis a>]
      \showStaffSwitch
      \change Staff = up
      dis'4 |
      \change Staff = down
      <fis, a cis>4 gis <f a d>2 |
    }
  }
}

\new PianoStaff {
  <<
    \context Staff = "up" {
      \accidentalStyle neo-modern-voice
      \musicA
    }
    \context Staff = "down" {
      \accidentalStyle neo-modern-voice
      \musicB
    }
  >>
}
@end lilypond

@item neo-modern-voice-cautionary

@funindex neo-modern-voice-cautionary

@cindex neo-moderner Versetzungszeichenstil pro Stimme mit Warnungen
@cindex Versetzungszeichenstil, neo-modern-voice-cautionary

Diese Regel ähnelt @code{neo-modern-voice}, aber die zusätzlichen
Versetzungszeichen werden hier als warnende Versetzungszeichen
gesetzt.

@lilypond[quote]
musicA = {
  <<
    \relative {
      cis''8 fis, bes'4 <a cis>8 f bis4 |
      cis2. <c, g'>4 |
    }
    \\
    \relative {
      ais'2 cis, |
      fis8 b a4 cis2 |
    }
  >>
}

musicB = {
  \clef bass
  \new Voice {
    \voiceTwo \relative {
      <fis a cis>8[ <fis a cis>
      \change Staff = up
      cis' cis
      \change Staff = down
      <fis, a> <fis a>]
      \showStaffSwitch
      \change Staff = up
      dis'4 |
      \change Staff = down
      <fis, a cis>4 gis <f a d>2 |
    }
  }
}

\new PianoStaff {
  <<
    \context Staff = "up" {
      \accidentalStyle neo-modern-voice-cautionary
      \musicA
    }
    \context Staff = "down" {
      \accidentalStyle neo-modern-voice-cautionary
      \musicB
    }
  >>
}
@end lilypond

@item dodecaphonic (Zwölftonmusik)

@funindex dodecaphonic

@cindex dodekaphoner Versetzungszeichenstil
@cindex Zwölftonmusik, Versetzungszeichenstil
@cindex Versetzungszeichenstil, Zwölftonmusik

Dieser Stil orientiert sich an der Notation von sog. Zwölftonmusik,
der Stil wurde Anfang des 20. Jahrhunderts in Gebrauch genommen.
In diesem Stil erhält @emph{jede} Note ein Versetzungszeichen, wozu
auch Auflösungszeichen zählen.

@lilypond[quote]
musicA = {
  <<
    \relative {
      cis''8 fis, bes'4 <a cis>8 f bis4 |
      cis2. <c, g'>4 |
    }
    \\
    \relative {
      ais'2 cis, |
      fis8 b a4 cis2 |
    }
  >>
}

musicB = {
  \clef bass
  \new Voice {
    \voiceTwo \relative {
      <fis a cis>8[ <fis a cis>
      \change Staff = up
      cis' cis
      \change Staff = down
      <fis, a> <fis a>]
      \showStaffSwitch
      \change Staff = up
      dis'4 |
      \change Staff = down
      <fis, a cis>4 gis <f a d>2 |
    }
  }
}

\new PianoStaff {
  <<
    \context Staff = "up" {
      \accidentalStyle dodecaphonic
      \musicA
    }
    \context Staff = "down" {
      \accidentalStyle dodecaphonic
      \musicB
    }
  >>
}
@end lilypond


@item teaching (didaktisch)

@funindex teaching

@cindex teaching-Versetzungszeichenstil
@cindex Versetzungszeichenstil teaching
@cindex didaktischer Versetzungszeichenstil

Dieser Stil ist für Lernende bestimmt: der Stil orientiert sich
am  @code{modern}-Stil, aber die Alterationen, die sich durch die
Tonart ergeben, werden zusätzlich als Warnungsversetzungszeichen
gesetzt.  Eine Ausnahme sind direkt wiederholte Noten.

@lilypond[quote]
musicA = {
  <<
    \relative {
      cis''8 fis, bes'4 <a cis>8 f bis4 |
      cis2. <c, g'>4 |
    }
    \\
    \relative {
      ais'2 cis, |
      fis8 b a4 cis2 |
    }
  >>
}

musicB = {
  \clef bass
  \new Voice {
    \voiceTwo \relative {
      <fis a cis>8[ <fis a cis>
      \change Staff = up
      cis' cis
      \change Staff = down
      <fis, a> <fis a>]
      \showStaffSwitch
      \change Staff = up
      dis'4 |
      \change Staff = down
      <fis, a cis>4 gis <f a d>2 |
    }
  }
}

\new PianoStaff {
  <<
    \context Staff = "up" {
      \key fis \minor
      \accidentalStyle teaching
      \musicA
    }
    \context Staff = "down" {
      \key fis \minor
      \accidentalStyle teaching
      \musicB
    }
  >>
}
@end lilypond



@item no-reset (nicht zurücksetzen)

@funindex no-reset

@cindex Versetzungszeichenstil, no reset
@cindex Versetzungszeichenstil: nicht zurücksetzen

Das ist der gleiche Stil wie @code{default}, aber die Versetzungszeichen
dauern für @qq{immer} an, nicht nur im aktuellen Takt:

@lilypond[quote]
musicA = {
  <<
    \relative {
      cis''8 fis, bes'4 <a cis>8 f bis4 |
      cis2. <c, g'>4 |
    }
    \\
    \relative {
      ais'2 cis, |
      fis8 b a4 cis2 |
    }
  >>
}

musicB = {
  \clef bass
  \new Voice {
    \voiceTwo \relative {
      <fis a cis>8[ <fis a cis>
      \change Staff = up
      cis' cis
      \change Staff = down
      <fis, a> <fis a>]
      \showStaffSwitch
      \change Staff = up
      dis'4 |
      \change Staff = down
      <fis, a cis>4 gis <f a d>2 |
    }
  }
}

\new PianoStaff {
  <<
    \context Staff = "up" {
      \accidentalStyle no-reset
      \musicA
    }
    \context Staff = "down" {
      \accidentalStyle no-reset
      \musicB
    }
  >>
}
@end lilypond

@item forget (vergessen)

@funindex forget

@cindex forget-Versetzungszeichenstil
@cindex Versetzungszeichenstil forget
@cindex Versetzungszeichenstil Vergessen

Das ist das Gegenteil von @code{no-reset}: Versetzungszeichen
werden überhaupt nicht erinnert und folgerichtig werden alle
Versetzungszeichen entsprechend der Tonart gesetzt, unabhängig
vom Kontext der Noten.

@lilypond[quote]
musicA = {
  <<
    \relative {
      cis''8 fis, bes'4 <a cis>8 f bis4 |
      cis2. <c, g'>4 |
    }
    \\
    \relative {
      ais'2 cis, |
      fis8 b a4 cis2 |
    }
  >>
}

musicB = {
  \clef bass
  \new Voice {
    \voiceTwo \relative {
      <fis a cis>8[ <fis a cis>
      \change Staff = up
      cis' cis
      \change Staff = down
      <fis, a> <fis a>]
      \showStaffSwitch
      \change Staff = up
      dis'4 |
      \change Staff = down
      <fis, a cis>4 gis <f a d>2 |
    }
  }
}

\new PianoStaff {
  <<
    \context Staff = "up" {
      \accidentalStyle forget
      \musicA
    }
    \context Staff = "down" {
      \accidentalStyle forget
      \musicB
    }
  >>
}
@end lilypond
@end table

@morerefs
Schnipsel:
@rlsr{Pitches}.

Referenz der Interna:
@rinternals{Accidental},
@rinternals{Accidental_engraver},
@rinternals{GrandStaff},
@rinternals{PianoStaff},
@rinternals{Staff},
@rinternals{AccidentalSuggestion},
@rinternals{AccidentalPlacement},
@rinternals{accidental-suggestion-interface}.


@cindex Versetzungszeichen und gleichzeitige Noten
@cindex simultane Noten und Versetzungszeichen
@cindex Akkorde: Versetzungszeichen
@cindex gleichzeitige Noten: Versetzungszeichen
@cindex Versetzungszeichen in Akkorden

@knownissues

Gleichzeitig erklingende Noten werden bei der automatischen Bestimmung
der Versetzungszeichen nicht berücksichtigt: nur die vorige Note und
die Vorzeichen werden einbezogen.  Man muss die Versetzungszeichen
mit@tie{}@code{!} oder@tie{}@code{?} schreiben, wenn gleichzeitig
unterschiedliche Alterationen vorkommen, wie etwa für @samp{<f! fis!>}.

Die warndenden Auflösungzeichen werden gesetzt, indem die vorangegangenen
Takte betrachtet werden.  In der zweiten oder einer weiteren
Wiederholungsklammer erwartet man jedoch, dass die Auflösungszeichen sich
aus dem letzten @emph{gespielten} und nicht dem letzten @emph{gesetzten}
Takt ergeben.  Im folgenden Beispiel bräuchte das @code{c} in der zweiten
Klammer kein Auflösungszeichen:

@lilypond[quote]
{
  \accidentalStyle modern
  \time 2/4
  \repeat volta 2 {
    c'2
  }
  \alternative {
     cis'
     c'
  }
}
@end lilypond

Die folgende Notlösung kann benutzt werden: Man definiert eine Funktion,
die den Versetzungszeichenstil kurzzeitig auf @code{forget} umschaltet:

@lilypond[verbatim,quote]
forget = #(define-music-function (music) (ly:music?) #{
  \accidentalStyle forget
  #music
  \accidentalStyle modern
#})
{
  \accidentalStyle modern
  \time 2/4
  \repeat volta 2 {
    c'2
  }
  \alternative {
     cis'
     \forget c'
  }
}
@end lilypond


@node Tonumfang
@unnumberedsubsubsec Tonumfang
@translationof Ambitus

@cindex Ambitus
@cindex Stimmumfang

Der Begriff @notation{ambitus} (Pl. ambitus) beschreibt den
Stimmumfang einer Stimme.  Er kann auch die Töne bedeuten, die
ein Musikinstrument zu spielen in der Lage ist.  Ambitus werden
in Chorpartituren gesetzt, damit die Sänger schnell wissen, ob
sie die Stimme meistern können.

Ambitus werden zu Beginn des Stückes nahe des ersten Schlüssels
notiert.  Der Stimmumfang wird durch zwei Notenköpfe dargestellt,
die die tiefste und höchste Note der Stimme repräsentieren.
Versetzungszeichen werden nur gesetzt, wenn sie nicht durch die
Tonart definiert werden.

@lilypond[verbatim,quote]
\layout {
  \context {
    \Voice
    \consists Ambitus_engraver
  }
}

\relative {
  aes' c e2
  cis,1
}
@end lilypond


@snippets

@lilypondfile[verbatim,quote,texidoc,doctitle]
{snippets/adding-ambitus-per-voice.ly}

@lilypondfile[verbatim,quote,texidoc,doctitle]
{snippets/ambitus-with-multiple-voices.ly}

@lilypondfile[verbatim,quote,texidoc,doctitle]
{snippets/changing-the-ambitus-gap.ly}


@morerefs
Glossar:
@rglos{ambitus}.

Schnipsel:
@rlsr{Pitches}.

Referenz der Interna:
@rinternals{Ambitus_engraver},
@rinternals{Voice},
@rinternals{Staff},
@rinternals{Ambitus},
@rinternals{AmbitusAccidental},
@rinternals{AmbitusLine},
@rinternals{AmbitusNoteHead},
@rinternals{ambitus-interface}.


@knownissues

Es gibt keine Kollisionskontrolle bei mehreren Ambitus in einem System.


@node Notenköpfe
@subsection Notenköpfe
@translationof Note heads

Dieser Abschnitt zeigt, wie man Notenköpfe ändern kann.

@menu
* Besondere Notenköpfe::
* Easy-Notation-Notenköpfe::
* Notenköpfe mit besonderen Formen::
* Improvisation::
@end menu

@node Besondere Notenköpfe
@unnumberedsubsubsec Besondere Notenköpfe
@translationof Special note heads

@cindex Notenköpfe, besondere
@cindex besondere Notenköpfe
@cindex Notenköpfe, Kreuz
@cindex Notenköpfe, Raute
@cindex Noten, parlato
@cindex Notenköpfe, Flageolett
@cindex Notenköpfe, Gitarre
@cindex Kreuznotenköpfe
@cindex Rautennotenköpfe
@cindex Parlato-Notenköpfe
@cindex Gitarrennotenköpfe
@cindex Flageolett-Notenköpfe
@cindex Stile, Notenköpfe

@funindex cross

Notenköpfe können verändert werden:

@lilypond[verbatim,quote]
\relative c'' {
  c4 b
  \override NoteHead.style = #'cross
  c4 b
  \revert NoteHead.style
  a b
  \override NoteHead.style = #'harmonic
  a b
  \revert NoteHead.style
  c4 d e f
}
@end lilypond

Für alle Notenkopfstile siehe @ref{Notenkopfstile}

Der Kreuz-(@code{cross}) Stil wird mit unterschiedlichen
musikalischen Absichten eingesetzt.  Die folgenden
vordefinierten Befehle verändern die Notenköpfe sowohl
in Notensystemen als auch in Tabulaturen und können
benutzt werden, um alle musikalischen Bedeutungen zu
notieren:

@lilypond[verbatim,quote]
\relative {
  c''4 b
  \xNotesOn
   a b c4 b
  \xNotesOff
  c4 d
}
@end lilypond

Die Form als musikalische Funktion dieses Befehls kann innerhalb
und außerhalb von Akkorden benutzt werden, um Notenköpfe mit Kreuzen
in normalen und Tabulatursystemen zu erstellen:

@lilypond[verbatim,quote]
\relative {
  c''4 b
  \xNote { e f }
  c b < g \xNote c f > b
}
@end lilypond

Als Synonym für @code{\xNote}, @code{\xNotesOn} und @code{\xNotesOff}
kann @code{\deadNote}, @code{\deadNotesOn} und @code{\deadNotesOff}
benutzt werden.  Der Begriff @notation{dean note} (engl. tote Note)
wird regelmäßig von Gitaristen benutzt.

Es gibt auch einen Kurzbefehl für die Rautenform, der nur innerhalb
von Akkorden benutzt werden kann:

@lilypond[verbatim,quote,relative=2]
<c f\harmonic>2 <d a'\harmonic>4 <c g'\harmonic>
@end lilypond

@predefined
@code{\harmonic},
@code{\xNotesOn},
@code{\xNotesOff},
@code{\xNote}.
@endpredefined

@morerefs
Schnipsel:
@rlsr{Pitches}.

Notationsreferenz:
@ref{Notenkopfstile},
@ref{Noten mit Akkorden},
@ref{Flageolett und gedämpfte Noten}.

Referenz der Interna:
@rinternals{note-event},
@rinternals{Note_heads_engraver},
@rinternals{Ledger_line_engraver},
@rinternals{NoteHead},
@rinternals{LedgerLineSpanner},
@rinternals{note-head-interface},
@rinternals{ledger-line-spanner-interface}.


@node Easy-Notation-Notenköpfe
@unnumberedsubsubsec Easy-Notation-Notenköpfe
@translationof Easy notation note heads

@cindex Notenköpfe, Übung
@cindex Notenköpfe zum Lernen
@cindex Übungszwecke, Notenköpfe
@cindex Noteknöpfe, einfache Notation
@cindex pädagogische Notenköpfe
@cindex Anfänger, Notenlernen
@cindex Notenköpfe für Anfänger

@funindex \easyHeadsOn
@funindex \easyHeadsOff

Die @qq{einfachen Notenköpfe} haben die Bezeichnung der Note
im Kopf gedruckt.  Das wird eingesetzt, um die Notation beizubringen.
Damit die Buchstaben noch lesbar sind, müssen sie sehr groß
gesetzt werden.  Wie man eine größere Schriftart einstellt, findet
sich in @ref{Die Notensystemgröße einstellen}.

@lilypond[verbatim,quote]
#(set-global-staff-size 26)
\relative c' {
  \easyHeadsOn
  c2 e4 f
  g1
  \easyHeadsOff
  c,1
}
@end lilypond

@funindex \easyHeadsOn
@funindex \easyHeadsOff

@predefined
@code{\easyHeadsOn},
@code{\easyHeadsOff}.
@endpredefined

@snippets

@lilypondfile[verbatim,quote,texidoc,doctitle]
{snippets/numbers-as-easy-note-heads.ly}

@morerefs
Notationsreferenz:
@ref{Die Notensystemgröße einstellen}.

Schnipsel:
@rlsr{Pitches}.

Referenz der Interna:
@rinternals{note-event},
@rinternals{Note_heads_engraver},
@rinternals{NoteHead},
@rinternals{note-head-interface}.


@node Notenköpfe mit besonderen Formen
@unnumberedsubsubsec Notenköpfe mit besonderen Formen
@translationof Shape note heads

@cindex Notenköpfe, Formen
@cindex Notation, Aiken
@cindex Notenköpfe, sacred harp
@cindex Form-Notenköpfe
@cindex Aiken-Notenköpfe
@cindex sacred harp-Notenköpfe
@cindex Southern-Harmony-Notenköpfe
@cindex Funk-Formnotenköpfe
@cindex Notenköpfe, Funk
@cindex Notenköpfe, Harmonia Sacra
@cindex Harmonia Sacra-Notenköpfe
@cindex Christian Harmony-Notenköpfe
@cindex Notenköpfe, Christian Harmony
@cindex Walker-Formnotenköpfe
@cindex Notenköpfe, Walker

@funindex \aikenHeads
@funindex \sacredHarpHeads
@funindex aikenHeads
@funindex sacredHarpHeads
@funindex \southernHarmonyHeads
@funindex \funkHeads
@funindex \walkerHeads

In dieser Notation haben die Notenköpfe eine Form, die ihrer
harmonischen Funktion innerhalb der Tonleiter entspricht.  Die
Notation war sehr beliebt in amerikanischen Liederbüchern des
19. Jahrhunderts.  Auf diese Weise können die Formen
Sacred Harp, Southern Harmony, Funk (Harmonia Sacra), Walker
und Aiken (Christian Harmony) benutzt werden:

@lilypond[verbatim,quote]
\relative c'' {
  \aikenHeads
  c, d e f g2 a b1 c \break
  \sacredHarpHeads
  c,4 d e f g2 a b1 c \break
  \southernHarmonyHeads
  c,4 d e f g2 a b1 c \break
  \funkHeads
  c,4 d e f g2 a b1 c \break
  \walkerHeads
  c,4 d e f g2 a b1 c \break
}
@end lilypond

@funindex \key
@funindex \aikenHeadsMinor
@funindex \sacredHarpHeadsMinor
@funindex \southernHarmonyHeadsMinor
@funindex \funkHeadsMinor
@funindex \walkerHeadsMinor

Die unterschiedlichen Formen richten sich nach der Stufe in der
Skala, wobei der Grundton der Skala aus dem @code{\key}-Befehl
entnommen wird.  Wenn man eine Moll-Skala benutzt, ergibt sich
die Form der Notenköpfe aus der parallelen Dur-Tonleiter:

@lilypond[verbatim,quote,relative=2]
\key a \minor
\aikenHeads
a b c d e2 f g1 a \break
\aikenHeadsMinor
a,4 b c d e2 f g1 a \break
\sacredHarpHeadsMinor
a,2 b c d \break
\southernHarmonyHeadsMinor
a2 b c d \break
\funkHeadsMinor
a2 b c d \break
\walkerHeadsMinor
a2 b c d \break
@end lilypond

@predefined
@code{\aikenHeads},
@code{\aikenHeadsMinor},
@code{\funkHeads},
@code{\funkHeadsMinor},
@code{\sacredHarpHeads},
@code{\sacredHarpHeadsMinor},
@code{\southernHarmonyHeads},
@code{\southernHarmonyHeadsMinor},
@code{\walkerHeads},
@code{\walkerHeadsMinor}.
@endpredefined

@snippets

@lilypondfile[verbatim,quote,texidoc,doctitle]
{snippets/applying-note-head-styles-depending-on-the-step-of-the-scale.ly}


Alle Notenkopfstile finden sich in @ref{Notenkopfstile}.

@morerefs
Schnipsel:
@rlsr{Pitches}.

Notationsreferenz:
@ref{Notenkopfstile}.

Referenz der Interna:
@rinternals{note-event},
@rinternals{Note_heads_engraver},
@rinternals{NoteHead},
@rinternals{note-head-interface}.


@node Improvisation
@unnumberedsubsubsec Improvisation
@translationof Improvisation

@cindex Improvisation
@cindex schräge Notenköpfe
@cindex Notenköpfe, Improvisation
@cindex Strichnotenköpfe
@cindex Striche: Notenköpfe

@funindex \improvisationOn
@funindex \improvisationOff

Improvisation wird manchmal angezeigt, indem schräge Notenköpfe
gesetzt werden, wenn der Spieler eine beliebige Tonhöhe wählen kann
aber den vorgegebenen Rhythmus spielen soll. Sie können wie folgt
benutzt werden:

@lilypond[verbatim,quote]
\new Voice \with {
  \consists Pitch_squash_engraver
} \relative {
  e''8 e g a a16( bes) a8 g
  \improvisationOn
  e8 ~
  2 ~ 8 f4 f8 ~
  2
  \improvisationOff
  a16( bes) a8 g e
}
@end lilypond

@predefined
@code{\improvisationOn},
@code{\improvisationOff}.
@endpredefined

@morerefs
Schnipsel:
@rlsr{Pitches}.

Referenz der Interna:
@rinternals{Pitch_squash_engraver},
@rinternals{Voice},
@rinternals{RhythmicStaff}.
